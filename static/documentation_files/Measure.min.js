/*!
 * LMV v7.70.0
 *
 * Copyright 2022 Autodesk, Inc.
 * All rights reserved.
 *
 * This computer source code and related instructions and comments are the
 * unpublished confidential and proprietary information of Autodesk, Inc.
 * and are protected under Federal copyright and state trade secret law.
 * They may not be disclosed to, copied or used by any third party without
 * the prior written consent of Autodesk, Inc.
 *
 * Autodesk Forge Viewer Usage Limitations:
 *
 * The Autodesk Forge Viewer JavaScript must be delivered from an
 * Autodesk-hosted URL.
 */(()=>{var e={48234:e=>{e.exports.b="mouseTracking"},61880:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(87537),a=i.n(n),s=i(23645),r=i.n(s)()(a());r.push([e.id,"@font-face{font-family:'calibration-icon';src:url(\"data:application/octet-stream;base64,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\") format(\"woff\");font-weight:normal;font-style:normal}[class^=\"calibration-icon\"],[class*=\" calibration-icon\"]{font-family:'calibration-icon';font-style:normal;font-weight:normal;font-variant:normal;line-height:1;padding-top:2px;speak:none;text-transform:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.adsk-viewing-viewer .calibration-icon:before{content:'a'}.adsk-viewing-viewer .calibration-panel{left:calc(50% - 190px);top:calc(50% - 145px);width:380px;height:auto;z-index:4}.adsk-viewing-viewer .calibration-panel .calibration-table{padding-left:24px;padding-right:24px;margin-top:12px;margin-bottom:12px;box-sizing:border-box}.adsk-viewing-viewer .measure-settings-popup .option-drop-down,.adsk-viewing-viewer .calibration-panel .option-drop-down{width:100%;padding-right:0px;box-sizing:border-box}.adsk-viewing-viewer .measure-settings-popup .adsk-lmv-tftable tr td,.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td{width:auto;padding:2px 0px 2px 0px;height:56px;font-size:14px}.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td div{padding:0px}.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td input{margin:0px;box-sizing:border-box;width:100%;height:36px;font-size:14px}.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td select{height:36px;font-size:14px}.adsk-viewing-viewer .measure-settings-popup .switch{margin-left:25px}.adsk-viewing-viewer .measure-settings-popup .switch .slider{width:26px}.adsk-viewing-viewer .calibration-textbox::-webkit-inner-spin-button,.adsk-viewing-viewer .calibration-textbox::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}.adsk-viewing-viewer .calibration-text{text-align:left;padding:6px 10px 6px 10px;margin:20px 20px 14px 20px;font-size:14px;-webkit-font-smoothing:antialiased}.adsk-viewing-viewer .calibration-button{margin-top:15px}.adsk-viewing-viewer .calibration-button-left{width:calc(50% - 15px);margin-right:5px !important;display:inline-block}.adsk-viewing-viewer .calibration-button-right{width:calc(50% - 15px);margin-left:5px !important;display:inline-block}.adsk-viewing-viewer .calibration-line{position:absolute;display:block;top:0;left:0;pointer-events:none;z-index:0}.adsk-viewing-viewer .calibration-label{display:none;position:absolute;pointer-events:none;text-align:'center';vertical-align:middle;cursor:default;padding:2px;color:#000000;background:#FFFFFF;border-radius:10px;-webkit-transform-origin:50%  53%}.adsk-viewing-viewer .calibration-label-text{display:inline-block;pointer-events:none;text-align:'center';vertical-align:middle;font-size:12px;cursor:default;padding:2px;color:#000000;background:#FFFFFF;border-bottom:1px dashed #000000;text-decoration:none;text-transform:uppercase;-webkit-font-smoothing:antialiased}.adsk-viewing-viewer .calibration-label-text:hover{color:#039be5;border-bottom:1px dashed #039be5}.adsk-viewing-viewer .calibration-label.visible{display:block}.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover,.adsk-viewing-viewer .calibration-endpoint.edit{background-color:#039be5}.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover>*,.adsk-viewing-viewer .calibration-endpoint.edit>*{color:#ffffff}.adsk-viewing-viewer .calibration-endpoint.editable{pointer-events:all}.adsk-viewing-viewer .calibration-endpoint{display:none;position:absolute;cursor:move;pointer-events:none;width:30px;height:30px;background-color:#ffffff;box-shadow:0 4px 8px 0 rgba(0,0,0,0.24),0 0 8px 0 rgba(0,0,0,0.12);-moz-border-radius:50px;-webkit-border-radius:50px;border-radius:50px;justify-content:center;align-items:center;text-align:center}.adsk-viewing-viewer .calibration-endpoint.visible{display:block}.adsk-viewing-viewer .calibration-endpoint-text{display:inline-block;font-size:14px;vertical-align:middle;cursor:default;margin:5px 5px 5px 5px;vertical-align:middle;text-align:center;color:#039be5;text-decoration:none;text-transform:uppercase;pointer-events:none}.adsk-viewing-viewer .calibration-panel .docking-panel-footer{padding:16px 24px;display:flex;justify-content:flex-end;text-align:center;position:relative;height:auto}.adsk-viewing-viewer .calibration-panel .docking-panel-footer .docking-panel-secondary-button,.adsk-viewing-viewer .calibration-panel .docking-panel-footer .docking-panel-primary-button{padding:0px 16px;margin:0px 0px 0px 8px;font-size:14px}.adsk-viewing-viewer .calibration-panel .docking-panel-title{padding-top:19px;padding-bottom:19px}.adsk-viewing-viewer .calibration-panel .docking-panel-close{margin-top:7.5px}\n","",{version:3,sources:["webpack://./extensions/Measure/Calibration.css"],names:[],mappings:"AAAA,WACI,8BAA+B,CAC/B,+1HAAg2H,CACh2H,kBAAmB,CACnB,iBAAkB,CAAA,yDAIlB,8BAA+B,CAC/B,iBAAkB,CAClB,kBAAmB,CACnB,mBAAoB,CACpB,aAAc,CACd,eAAgB,CAChB,UAAW,CACX,mBAAoB,CACpB,kCAAmC,CACnC,iCAAkC,CACrC,8CAGG,WAAY,CACf,wCAGG,sBAAsB,CACtB,qBAAsB,CACtB,WAAY,CACZ,WAAY,CACZ,SAAU,CACb,2DAGG,iBAAkB,CAClB,kBAAmB,CACnB,eAAgB,CAChB,kBAAmB,CACnB,qBAAsB,CACzB,yHAIG,UAAW,CACX,iBAAkB,CAClB,qBAAsB,CACzB,qIAIG,UAAW,CACX,uBAAwB,CACxB,WAAY,CACZ,cAAe,CAClB,oEAGG,WAAY,CACf,sEAGG,UAAW,CACX,qBAAsB,CACtB,UAAW,CACX,WAAY,CACZ,cAAe,CAClB,uEAGG,WAAY,CACZ,cAAe,CAClB,qDAGG,gBAAiB,CACpB,6DAEG,UAAW,CACd,0IAIG,uBAAwB,CACxB,QAAS,CACZ,uCAGG,eAAgB,CAChB,yBAA0B,CAC1B,0BAA2B,CAC3B,cAAe,CACf,kCAAmC,CACtC,yCAGG,eAAgB,CACnB,8CAGG,sBAAuB,CACvB,2BAA4B,CAC5B,oBAAqB,CACxB,+CAGG,sBAAuB,CACvB,0BAA2B,CAC3B,oBAAqB,CACxB,uCAGG,iBAAkB,CAClB,aAAc,CACd,KAAK,CACL,MAAM,CACN,mBAAoB,CACpB,SAAU,CACb,wCAGG,YAAa,CACb,iBAAkB,CAClB,mBAAoB,CACpB,mBAAoB,CACpB,qBAAsB,CACtB,cAAe,CACf,WAAY,CACZ,aAAc,CACd,kBAAmB,CACnB,kBAAmB,CACnB,iCAAkC,CACrC,6CAGG,oBAAqB,CACrB,mBAAoB,CACpB,mBAAoB,CACpB,qBAAsB,CACtB,cAAe,CACf,cAAe,CACf,WAAY,CACZ,aAAc,CACd,kBAAmB,CACnB,gCAAiC,CACjC,oBAAqB,CACrB,wBAAyB,CACzB,kCAAmC,CACtC,mDAGG,aAAc,CACd,gCAAiC,CACpC,gDAGG,aAAc,CACjB,mIAIG,wBAAyB,CAC5B,uIAIG,aAAc,CACjB,oDAGG,kBAAmB,CACtB,2CAGG,YAAa,CACb,iBAAkB,CAClB,WAAY,CACZ,mBAAoB,CACpB,UAAW,CACX,WAAY,CACZ,wBAAyB,CACzB,kEAA0E,CAC1E,uBAAwB,CACxB,0BAA2B,CAC3B,kBAAmB,CACnB,sBAAsB,CACtB,kBAAkB,CAClB,iBAAkB,CACrB,mDAGG,aAAc,CACjB,gDAGG,oBAAqB,CACrB,cAAe,CACf,qBAAsB,CACtB,cAAe,CACf,sBAAuB,CACvB,qBAAsB,CACtB,iBAAkB,CAClB,aAAc,CACd,oBAAqB,CACrB,wBAAyB,CACzB,mBAAoB,CACvB,8DAGG,iBAAkB,CAClB,YAAa,CACb,wBAAyB,CACzB,iBAAkB,CAClB,iBAAkB,CAClB,WAAY,CACf,0LAIG,gBAAiB,CACjB,sBAAuB,CACvB,cAAe,CAClB,6DAGG,gBAAiB,CACjB,mBAAoB,CACvB,6DAGG,gBAAiB",sourcesContent:["@font-face {\n    font-family: 'calibration-icon';\n    src: url('data:application/octet-stream;base64,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') format('woff');\n    font-weight: normal;\n    font-style: normal;\n}\n\n[class^=\"calibration-icon\"], [class*=\" calibration-icon\"] {\n    font-family: 'calibration-icon';\n    font-style: normal;\n    font-weight: normal;\n    font-variant: normal;\n    line-height: 1;\n    padding-top: 2px;\n    speak: none;\n    text-transform: none;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.adsk-viewing-viewer .calibration-icon:before {\n    content: 'a';\n}\n\n.adsk-viewing-viewer .calibration-panel {\n    left:calc(50% - 190px);\n    top: calc(50% - 145px);\n    width: 380px;\n    height: auto;\n    z-index: 4;\n}\n\n.adsk-viewing-viewer .calibration-panel .calibration-table {\n    padding-left: 24px;\n    padding-right: 24px;\n    margin-top: 12px;\n    margin-bottom: 12px;\n    box-sizing: border-box;\n}\n\n.adsk-viewing-viewer .measure-settings-popup .option-drop-down,\n.adsk-viewing-viewer .calibration-panel .option-drop-down {\n    width: 100%;\n    padding-right: 0px;\n    box-sizing: border-box;\n}\n\n.adsk-viewing-viewer .measure-settings-popup .adsk-lmv-tftable tr td,\n.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td {\n    width: auto;\n    padding: 2px 0px 2px 0px;\n    height: 56px;\n    font-size: 14px;\n}\n\n.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td div {\n    padding: 0px;\n}\n\n.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td input {\n    margin: 0px;\n    box-sizing: border-box;\n    width: 100%;\n    height: 36px;\n    font-size: 14px;\n}\n\n.adsk-viewing-viewer .calibration-panel .adsk-lmv-tftable tr td select {\n    height: 36px;\n    font-size: 14px;\n}\n\n.adsk-viewing-viewer .measure-settings-popup .switch {\n    margin-left: 25px;\n}\n.adsk-viewing-viewer .measure-settings-popup .switch .slider {\n    width: 26px;\n}\n\n.adsk-viewing-viewer .calibration-textbox::-webkit-inner-spin-button, \n.adsk-viewing-viewer .calibration-textbox::-webkit-outer-spin-button { \n    -webkit-appearance: none; \n    margin: 0; \n}\n\n.adsk-viewing-viewer .calibration-text {\n    text-align: left;\n    padding: 6px 10px 6px 10px;\n    margin: 20px 20px 14px 20px;\n    font-size: 14px;\n    -webkit-font-smoothing: antialiased;\n}\n\n.adsk-viewing-viewer .calibration-button {\n    margin-top: 15px;\n}\n\n.adsk-viewing-viewer .calibration-button-left {\n    width: calc(50% - 15px);\n    margin-right: 5px !important;\n    display: inline-block;\n}\n\n.adsk-viewing-viewer .calibration-button-right {\n    width: calc(50% - 15px);\n    margin-left: 5px !important;\n    display: inline-block;\n}\n\n.adsk-viewing-viewer .calibration-line {\n    position: absolute;\n    display: block;    \n    top:0;\n    left:0;\n    pointer-events: none;\n    z-index: 0;\n}\n\n.adsk-viewing-viewer .calibration-label {\n    display: none;\n    position: absolute;\n    pointer-events: none;\n    text-align: 'center';\n    vertical-align: middle;\n    cursor: default;\n    padding: 2px;\n    color: #000000;\n    background: #FFFFFF;\n    border-radius: 10px;\n    -webkit-transform-origin: 50%  53%;\n}\n\n.adsk-viewing-viewer .calibration-label-text {\n    display: inline-block;\n    pointer-events: none;\n    text-align: 'center';\n    vertical-align: middle;\n    font-size: 12px;\n    cursor: default;\n    padding: 2px;\n    color: #000000;\n    background: #FFFFFF;\n    border-bottom: 1px dashed #000000;\n    text-decoration: none;\n    text-transform: uppercase;\n    -webkit-font-smoothing: antialiased;\n}\n\n.adsk-viewing-viewer .calibration-label-text:hover {\n    color: #039be5;\n    border-bottom: 1px dashed #039be5;\n}\n\n.adsk-viewing-viewer .calibration-label.visible {\n    display: block;\n}\n\n.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover,\n.adsk-viewing-viewer .calibration-endpoint.edit {\n    background-color: #039be5;\n}\n\n.adsk-viewing-viewer .calibration-endpoint:hover.calibration-endpoint.enable-hover > * ,\n.adsk-viewing-viewer .calibration-endpoint.edit > * {\n    color: #ffffff;\n}\n\n.adsk-viewing-viewer .calibration-endpoint.editable {\n    pointer-events: all;\n}\n\n.adsk-viewing-viewer .calibration-endpoint {\n    display: none;\n    position: absolute;\n    cursor: move;\n    pointer-events: none;\n    width: 30px;\n    height: 30px;\n    background-color: #ffffff;\n    box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.24), 0 0 8px 0 rgba(0, 0, 0, 0.12);\n    -moz-border-radius: 50px;\n    -webkit-border-radius: 50px;\n    border-radius: 50px;\n    justify-content:center;\n    align-items:center;\n    text-align: center;\n}\n\n.adsk-viewing-viewer .calibration-endpoint.visible {\n    display: block;\n}\n\n.adsk-viewing-viewer .calibration-endpoint-text {\n    display: inline-block;\n    font-size: 14px;\n    vertical-align: middle;\n    cursor: default;\n    margin: 5px 5px 5px 5px;\n    vertical-align: middle;\n    text-align: center;\n    color: #039be5;\n    text-decoration: none;\n    text-transform: uppercase;\n    pointer-events: none;\n}\n\n.adsk-viewing-viewer .calibration-panel .docking-panel-footer {\n    padding: 16px 24px;\n    display: flex;\n    justify-content: flex-end;\n    text-align: center;\n    position: relative;\n    height: auto;\n}\n\n.adsk-viewing-viewer .calibration-panel .docking-panel-footer .docking-panel-secondary-button,\n.adsk-viewing-viewer .calibration-panel .docking-panel-footer .docking-panel-primary-button {\n    padding: 0px 16px;\n    margin: 0px 0px 0px 8px;\n    font-size: 14px;\n}\n\n.adsk-viewing-viewer .calibration-panel .docking-panel-title {\n    padding-top: 19px;\n    padding-bottom: 19px;\n}\n\n.adsk-viewing-viewer .calibration-panel .docking-panel-close {\n    margin-top: 7.5px;\n}"],sourceRoot:""}]);const o=r},69542:(e,t,i)=>{"use strict";i.d(t,{Z:()=>o});var n=i(87537),a=i.n(n),s=i(23645),r=i.n(s)()(a());r.push([e.id,'.adsk-viewing-viewer .measure-length:hover.measure-length.enable-hover{box-shadow:0 0 16px 3px rgba(0,117,210,0.7);-webkit-box-shadow:0 0 16px 3px rgba(0,117,210,0.7);-moz-box-shadow:0 0 16px 3px rgba(0,117,210,0.7)}.adsk-viewing-viewer .measure-length{display:none;position:absolute;height:19px;left:0px;top:0px;padding:2px 0 2px 0;background-color:#009bea;box-shadow:0px 1px 3px 1px rgba(0,0,0,0.25);color:#f4f4f4;font-size:12px;text-align:center;line-height:1.2;white-space:nowrap;border-radius:8px;pointer-events:none;cursor:pointer;z-index:2;-webkit-tap-highlight-color:rgba(0,0,0,0)}.adsk-viewing-viewer .measure-length.visible{display:block}.adsk-viewing-viewer .measure-length.fetching-topology{background-color:rgba(34,34,34,0.8);box-shadow:0 0.5px 1.5px 0 rgba(0,0,0,0.3)}.adsk-viewing-viewer .measure-length-text{display:inline-block;margin:0 5px 0 5px;vertical-align:middle;font-size:16px;pointer-events:none}.adsk-viewing-viewer .measure-delta-text{margin:0 5px 0 5px;align-self:center;font-size:14px;overflow:hidden;white-space:nowrap;height:16px;line-height:16px;vertical-align:middle;pointer-events:none}.adsk-viewing-viewer .measure-length-button{display:inline-block;width:16px;height:16px;font-size:16px;float:right;color:#FFFFFF;opacity:0.7}.adsk-viewing-viewer .measure-length-button:hover{background-color:rgba(166,194,255,0.7);-webkit-transition:all 0.2s ease;-moz-transition:all 0.2s ease;-ms-transition:all 0.2s ease;-o-transition:all 0.2s ease;transition:all 0.2s ease}.adsk-viewing-viewer .measure-label:hover.measure-label.enable-hover,.adsk-viewing-viewer .measure-label.on-edit{box-shadow:0 0 4px 4px #0d69ca;-webkit-box-shadow:0 0 4px 4px #0d69ca;-moz-box-shadow:0 0 4px 4px #0d69ca}.adsk-viewing-viewer .measure-label.editable{pointer-events:all}.adsk-viewing-viewer .measure-label{display:none;position:absolute;width:7px;height:7px;cursor:move;pointer-events:none;border-radius:100px}.adsk-viewing-viewer .measure-label-hit-area{display:inline-block;position:absolute;width:44px;height:44px;left:-22px;top:-22px;border-radius:100px;z-index:2}.adsk-viewing-viewer .measure-label-icon{display:inline-block;position:absolute;width:7px;height:7px;left:-2px;top:-2px;background-color:#009bea;border-style:solid;border-width:2px;border-color:#FFFFFF;border-radius:100px;box-shadow:0 2px 5px 0 #182A3D;z-index:2}.adsk-viewing-viewer .measure-label.visible{display:block}.adsk-viewing-viewer .measure-label-text{display:inline-block;margin:0px 5px 0px 5px;vertical-align:middle}.adsk-viewing-viewer .measure-horizontal-divider{height:1px;border-top:1px solid rgba(200,200,200,0.8)}.adsk-viewing-viewer .measure-submenu-select{display:block;position:relative;width:calc(100% - 40px);padding:10px 20px 0px 20px;opacity:0.3}.adsk-viewing-viewer .option-drop-down:disabled{opacity:0.3}.adsk-viewing-viewer .measure-submenu-selectlabel{position:relative;display:inline-block;padding-right:20px;padding-bottom:4px}.adsk-viewing-viewer .measure-results{position:relative;display:block;padding:5px 0px  10px 30px}.adsk-viewing-viewer .measure-result-label{display:inline-block;padding-right:10px}.adsk-viewing-viewer .measure-result-number{display:inline-block}.adsk-viewing-viewer .measure-delta-collapse{position:absolute;right:20px;display:inline-block;background-color:rgba(255,255,255,0.12);margin:0px 4px 0px 4px;padding:0px 4px 0px 4px;cursor:pointer;text-align:center}.adsk-viewing-viewer .measure-delta-collapse:hover{background-color:rgba(166,194,255,0.7);-webkit-transition:all 0.2s ease;-moz-transition:all 0.2s ease;-ms-transition:all 0.2s ease;-o-transition:all 0.2s ease;transition:all 0.2s ease}.adsk-viewing-viewer .measure-selection-repick{position:absolute;right:20px;display:inline-block;background-color:rgba(255,255,255,0.12);margin:4px 4px 4px 4px;padding:4px 4px 4px 4px;cursor:pointer;text-align:center}.adsk-viewing-viewer .measure-selection-repick:hover{background-color:rgba(166,194,255,0.7);-webkit-transition:all 0.2s ease;-moz-transition:all 0.2s ease;-ms-transition:all 0.2s ease;-o-transition:all 0.2s ease;transition:all 0.2s ease}.adsk-viewing-viewer .measure-restart{margin:10px 20px 15px 20px;padding:6px 10px 6px 10px;width:calc(100% - 55px);cursor:pointer;text-align:center;border-style:solid;border-width:1px;border-color:rgba(255,255,255,0.2);border-radius:3px}.adsk-viewing-viewer .docking-panel:hover .measure-restart{background-color:rgba(255,255,255,0.12)}.adsk-viewing-viewer .docking-panel .measure-restart:hover{background-color:rgba(166,194,255,0.7);-webkit-transition:all 0.2s ease;-moz-transition:all 0.2s ease;-ms-transition:all 0.2s ease;-o-transition:all 0.2s ease;transition:all 0.2s ease}.adsk-viewing-viewer .measure-panel-title{padding-top:0px;padding-left:20px;margin-top:10px}.adsk-viewing-viewer .measure-panel-title:hover{cursor:pointer}.adsk-viewing-viewer .measure-panel-title.collapsed{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwMDhBMzY4QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwMDhBMzY5QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTAwOEEzNjZBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTAwOEEzNjdBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6WHWu4AAAAcElEQVR42mL8//8/AzmAiYFMgEtjGSFDcUmGAfEEIOYix6lWQLwUiGXJ8SNI00IgNiIncPiAeCoQ+5ITqsxQA+CAhQhN34C4AoiPkaLxGRAXAfEdUvx4DohjsGkCA1CSw4LrgZgVhxwYM9I9rQIEGACZNDs01yUXlAAAAABJRU5ErkJggg==);background-repeat:no-repeat}.adsk-viewing-viewer .measure-panel-title.expanded{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE3QzFFQUQ1QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE3QzFFQUQ2QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTdDMUVBRDNBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTdDMUVBRDRBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6XuY60AAAARklEQVR42mL8//8/AzmAiYFMQBeNqSg8kB+JwKlAfAZZjIlIm9JJdSpWTYQ04tSETyNeTbg0EtSETSNRmkCAcegkOYAAAwDGjDZHvY373AAAAABJRU5ErkJggg==);background-repeat:no-repeat}.adsk-viewing-viewer .adsk-viewing-viewer .measure-table td{padding:10px 0px  10px 20px}.adsk-viewing-viewer .measure-selection-one-label{display:inline-block;margin:18px 18px 18px 18px;width:16px;height:16px;font-size:16px;float:left;padding:2px;background-color:#0033FF;border-radius:10px;opacity:0.6}.adsk-viewing-viewer .measure-selection-two-label{display:inline-block;margin:18px 18px 18px 18px;width:16px;height:16px;font-size:16px;float:left;padding:2px;background-color:#0033FF;border-radius:10px;opacity:0.6}.adsk-viewing-viewer .measure-repick{display:inline-block;cursor:default;margin:20px 20px 20px 20px;width:16px;height:16px;font-size:16px;float:right;opacity:0.5}.adsk-viewing-viewer .measure-repick:hover{opacity:1}.adsk-viewing-viewer .measure-selection-result{display:inline-block;margin:21px 0px 21px 0px}.adsk-viewing-viewer .measure-distance-icon{display:inline-block;margin:20px 2px 20px 2px;font-size:52px;color:#FF9900;float:left}.adsk-viewing-viewer .measure-angle-icon{display:inline-block;margin:20px 2px 20px 2px;font-size:52px;color:#FF9900;float:left}.adsk-viewing-viewer .adsk-viewing-viewer .measure-result{font-size:20px;color:#FF9900;display:inline-block;margin:38px 0px 38px 0px}.adsk-viewing-viewer .measure-initial{font-size:20px;display:inline-block;margin:38px 0px 38px 56px}.adsk-viewing-viewer .measure-settings-button{cursor:default;position:relative;top:20px;right:20px;width:16px;height:16px;font-size:18px;float:right;opacity:0.5}.adsk-viewing-viewer .measure-settings-button:hover{opacity:1}.adsk-viewing-viewer .measure-delta-button{position:relative;top:56px;right:4px;width:16px;height:16px;font-size:16px;float:right;opacity:0.5;-webkit-transform:rotate(-90deg);-moz-transform:rotate(-90deg);-ms-transform:rotate(-90deg);-o-transform:rotate(-90deg);transform:rotate(-90deg)}.adsk-viewing-viewer .measure-delta-button.rotated{-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);-o-transform:rotate(90deg);transform:rotate(90deg)}.adsk-viewing-viewer .measure-delta-button:hover{opacity:1}.adsk-viewing-viewer .measure-delta-result{display:inline-block;margin:0px 0px 20px 0px;padding:0px 0px 0px 56px}.adsk-viewing-viewer .measure-label-axis{display:none;position:absolute;width:16px;height:16px;left:0px;top:0px;background-color:#f4f4f4;border-radius:8px;pointer-events:none}.adsk-viewing-viewer .measure-label-axis-icon.X{background-color:#F12C2C}.adsk-viewing-viewer .measure-label-axis-icon.Y{background-color:#0BB80B}.adsk-viewing-viewer .measure-label-axis-icon.Z{background-color:#2C2CF1}.adsk-viewing-viewer .measure-label-axis-icon{width:20px;height:18px;color:#f4f4f4;border-radius:8px 0 0 8px;font-size:12px;padding-top:4px;line-height:15px;text-align:center;margin-left:-2px}.adsk-viewing-viewer .measure-label-axis-delta.enableTransition{transition:opacity 0.1s linear}.adsk-viewing-viewer .measure-label-axis-delta{display:none;position:absolute;font-size:18px;left:0px;top:0px;background-color:#ffffff;pointer-events:none;opacity:0;border-radius:8px;box-shadow:0px 1px 3px 1px rgba(0,0,0,0.25)}.adsk-viewing-viewer .measure-label-axis.visible{display:block}.adsk-viewing-viewer .measure-label-axis-delta.visible{display:flex}.adsk-viewing-viewer .measure-label-axis-x{color:#F12C2C}.adsk-viewing-viewer .measure-label-axis-y{color:#0BB80B}.adsk-viewing-viewer .measure-label-axis-z{color:#2C2CF1}.adsk-viewing-viewer .magnifying-glass.visible{display:block}.adsk-viewing-viewer .magnifying-glass{position:absolute;display:none;-moz-border-radius:100%;-webkit-border-radius:100%;border-radius:100%;background:transparent;box-shadow:2px 2px 4px rgba(0,0,0,0.5),inset 2px 2px 4px rgba(0,0,0,0.5);-webkit-box-shadow:2px 2px 4px rgba(0,0,0,0.5),inset 2px 2px 4px rgba(0,0,0,0.5);-moz-box-shadow:2px 2px 4px rgba(0,0,0,0.5),inset 2px 2px 4px rgba(0,0,0,0.5);z-index:4}.adsk-viewing-viewer .measure-fetching-topology{display:inline-block;width:10px;height:10px;background:url("data:image/svg+xml,%3Csvg xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22 xmlns%3Axlink%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxlink%22 width%3D%2210%22 height%3D%2210%22 viewBox%3D%220 0 10 10%22%3E  %3Cdefs%3E    %3ClinearGradient id%3D%22linear-gradient%22 y1%3D%225%22 x2%3D%2210%22 y2%3D%225%22 gradientUnits%3D%22userSpaceOnUse%22%3E      %3Cstop offset%3D%220%22 stop-color%3D%22%23fff%22 stop-opacity%3D%220%22%2F%3E      %3Cstop offset%3D%221%22 stop-color%3D%22%23fff%22%2F%3E    %3C%2FlinearGradient%3E  %3C%2Fdefs%3E  %3Ctitle%3EAsset 6%3C%2Ftitle%3E  %3Cg id%3D%22Layer_2%22 data-name%3D%22Layer 2%22%3E    %3Cg id%3D%22finals_24px%22%3E      %3Cpath d%3D%22M5%2C10A5%2C5%2C0%2C0%2C1%2C0%2C5%2C1.2%2C1.2%2C0%2C0%2C1%2C2.3%2C5%2C2.7%2C2.7%2C0%2C1%2C0%2C5%2C2.3%2C1.2%2C1.2%2C0%2C0%2C1%2C5%2C0%2C5%2C5%2C0%2C0%2C1%2C5%2C10Z%22 fill%3D%22url(%23linear-gradient)%22%2F%3E    %3C%2Fg%3E  %3C%2Fg%3E%3C%2Fsvg%3E");margin:3px 0px -2px 3px;animation:measure-topology-fetching-anim 1.4s infinite linear;-webkit-animation:measure-topology-fetching-anim 1.4s infinite linear}@keyframes measure-topology-fetching-anim{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes measure-topology-fetching-anim{0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)}100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}.adsk-viewing-viewer .docking-panel.measure-settings-popup{display:flex;justify-content:center;flex-direction:column;bottom:120%;box-sizing:border-box;text-align:left;position:absolute;padding-top:15px;padding-bottom:15px}.adsk-viewing-viewer .adsk-toolbar-vertical .docking-panel.measure-settings-popup{right:120%;bottom:unset;height:max-content;width:max-content}.adsk-viewing-viewer .docking-panel.measure-settings-popup .adsk-lmv-tftable tr.switch-slider-row td{width:auto;padding-bottom:0px;padding-top:0px;vertical-align:inherit}.adsk-viewing-viewer .docking-panel.measure-settings-popup.hide{display:none}.adsk-viewing-viewer .measure-settings-popup tbody{top:15px}.adsk-toolbar .measure-toolbar-seperator{height:18px;width:1px;background-color:#999;float:left;margin:16px 5px}.adsk-toolbar.adsk-toolbar-vertical .measure-toolbar-seperator{height:1px;width:18px;margin:5px 16px}.adsk-viewing-viewer .measure-selection-area{display:block;position:absolute;cursor:pointer;z-index:1;-webkit-tap-highlight-color:rgba(0,0,0,0)}.adsk-viewing-viewer .adsk-toolbar.adsk-toolbar-vertical .adsk-label-button{padding:0px;width:40px}.adsk-viewing-viewer .adsk-toolbar.adsk-toolbar-vertical .adsk-label-button>label{padding:10px 0px}\n',"",{version:3,sources:["webpack://./extensions/Measure/Measure.css"],names:[],mappings:"AACA,uEAEC,2CAA+C,CAC/C,mDAAuD,CACpD,gDAAoD,CACvD,qCAGG,YAAa,CACb,iBAAkB,CAElB,WAAY,CAEZ,QAAS,CACT,OAAS,CAET,mBAAoB,CAEpB,wBAAyB,CACzB,2CAA4C,CAE5C,aAAc,CACd,cAAc,CACd,iBAAkB,CAClB,eAAgB,CAChB,kBAAmB,CAEnB,iBAAkB,CAClB,mBAAoB,CACpB,cAAe,CACf,SAAU,CAEV,yCAA0C,CAC7C,6CAGG,aAAc,CACjB,uDAGG,mCAAuC,CACvC,0CAA8C,CACjD,0CAGG,oBAAqB,CACrB,kBAAmB,CACnB,qBAAsB,CACtB,cAAe,CACf,mBAAoB,CACvB,yCAGG,kBAAmB,CACnB,iBAAkB,CAClB,cAAe,CAClB,eAAgB,CAChB,kBAAmB,CACnB,WAAY,CACZ,gBAAiB,CACjB,qBAAsB,CACtB,mBAAoB,CACpB,4CAGG,oBAAqB,CACrB,UAAW,CACX,WAAY,CACZ,cAAe,CACf,WAAY,CAEZ,aAAc,CACd,WAAY,CACf,kDAGG,sCAAwC,CACxC,gCAAiC,CACjC,6BAA8B,CAC9B,4BAA6B,CAC7B,2BAA4B,CAC5B,wBAAyB,CAC5B,iHAKA,8BAA+B,CAC/B,sCAAuC,CACpC,mCAAoC,CACvC,6CAGA,kBAAmB,CACnB,oCAGG,YAAa,CACb,iBAAkB,CAClB,SAAU,CACV,UAAW,CACX,WAAY,CACZ,mBAAoB,CACpB,mBAAmB,CACtB,6CAGA,oBAAqB,CAClB,iBAAkB,CAClB,UAAW,CACX,WAAY,CACZ,UAAW,CACX,SAAU,CACV,mBAAmB,CACnB,SAAU,CACb,yCAGG,oBAAqB,CACrB,iBAAkB,CAClB,SAAU,CACV,UAAW,CACX,SAAU,CACV,QAAS,CACT,wBAAyB,CACzB,kBAAmB,CACnB,gBAAiB,CACjB,oBAAqB,CACrB,mBAAmB,CACtB,8BAA+B,CAC/B,SAAU,CACV,4CAGG,aAAc,CACjB,yCAIG,oBAAqB,CACrB,sBAAuB,CACvB,qBAAsB,CACzB,iDAIG,UAAW,CACX,0CAA2C,CAC9C,6CAIG,aAAc,CACd,iBAAkB,CAClB,uBAAwB,CACxB,0BAA2B,CAC3B,WAAY,CACf,gDAGG,WAAY,CACf,kDAIG,iBAAkB,CAClB,oBAAsB,CACtB,kBAAoB,CACpB,kBAAoB,CACvB,sCAQG,iBAAkB,CAClB,aAAc,CACd,0BAA2B,CAC9B,2CAGG,oBAAqB,CACrB,kBAAmB,CACtB,4CAGG,oBAAqB,CACxB,6CAGG,iBAAkB,CAClB,UAAW,CACX,oBAAqB,CACrB,uCAAwC,CACxC,sBAAuB,CACvB,uBAAwB,CACxB,cAAe,CACf,iBAAkB,CACrB,mDAGG,sCAAwC,CACxC,gCAAiC,CACjC,6BAA8B,CAC9B,4BAA6B,CAC7B,2BAA4B,CAC5B,wBAAyB,CAC5B,+CAGG,iBAAkB,CAClB,UAAW,CACX,oBAAqB,CACrB,uCAAwC,CACxC,sBAAuB,CACvB,uBAAwB,CACxB,cAAe,CACf,iBAAkB,CACrB,qDAGG,sCAAwC,CACxC,gCAAiC,CACjC,6BAA8B,CAC9B,4BAA6B,CAC7B,2BAA4B,CAC5B,wBAAyB,CAC5B,sCAGG,0BAA2B,CAC3B,yBAA0B,CAC1B,uBAAwB,CACxB,cAAe,CACf,iBAAkB,CAClB,kBAAmB,CACnB,gBAAiB,CACjB,kCAAsC,CACtC,iBAAkB,CACrB,2DAGG,uCAAwC,CAC3C,2DAGG,sCAAwC,CACxC,gCAAiC,CACjC,6BAA8B,CAC9B,4BAA6B,CAC7B,2BAA4B,CAC5B,wBAAyB,CAC5B,0CAGG,eAAkB,CAClB,iBAAkB,CAClB,eAAgB,CACnB,gDAGG,cAAe,CAClB,oDAGG,43CAA63C,CAC73C,2BAA2B,CAC9B,mDAGG,o0CAAo0C,CACp0C,2BAA2B,CAC9B,4DAGG,2BAA4B,CAC/B,kDAOG,oBAAqB,CACrB,0BAA2B,CAC3B,UAAW,CACX,WAAY,CACZ,cAAe,CACf,UAAW,CAEX,WAAY,CACZ,wBAAyB,CACzB,kBAA2B,CAC3B,WAAY,CACf,kDAGG,oBAAqB,CACrB,0BAA2B,CAC3B,UAAW,CACX,WAAY,CACZ,cAAe,CACf,UAAW,CAEX,WAAY,CACZ,wBAAyB,CACzB,kBAA2B,CAC3B,WAAY,CACf,qCAGG,oBAAqB,CACrB,cAAe,CACf,0BAA2B,CAC3B,UAAW,CACX,WAAY,CACZ,cAAe,CACf,WAAY,CACZ,WAAY,CACf,2CAGG,SAAU,CACb,+CAGG,oBAAqB,CACrB,wBAAyB,CAC5B,4CAGG,oBAAqB,CACrB,wBAAyB,CACzB,cAAe,CACf,aAAc,CACd,UAAW,CACd,yCAGG,oBAAqB,CACrB,wBAAyB,CACzB,cAAe,CACf,aAAc,CACd,UAAW,CACd,0DAGG,cAAe,CACf,aAAc,CACd,oBAAqB,CACrB,wBAAyB,CAC5B,sCAGG,cAAe,CACf,oBAAqB,CACrB,yBAA0B,CAC7B,8CAGG,cAAe,CACf,iBAAkB,CAClB,QAAS,CACT,UAAW,CACX,UAAW,CACX,WAAY,CACZ,cAAe,CACf,WAAY,CACZ,WAAY,CACf,oDAGG,SAAU,CACb,2CAGG,iBAAkB,CAClB,QAAS,CACT,SAAU,CACV,UAAW,CACX,WAAY,CACZ,cAAe,CACf,WAAY,CACZ,WAAY,CACZ,gCAAkC,CAClC,6BAA+B,CAC/B,4BAA8B,CAC9B,2BAA6B,CAC7B,wBAA0B,CAC7B,mDAGG,+BAAiC,CACjC,4BAA8B,CAC9B,2BAA6B,CAC7B,0BAA4B,CAC5B,uBAAyB,CAC5B,iDAGG,SAAU,CACb,2CAGG,oBAAqB,CACrB,uBAAwB,CACxB,wBAAyB,CAC5B,yCAGG,YAAa,CACb,iBAAkB,CAElB,UAAW,CACX,WAAY,CAEZ,QAAS,CACT,OAAS,CAET,wBAAyB,CACzB,iBAAkB,CAClB,mBAAoB,CACvB,gDAGG,wBAAyB,CAC5B,gDAGG,wBAAyB,CAC5B,gDAGG,wBAAyB,CAC5B,8CAGA,UAAW,CACR,WAAY,CACZ,aAAc,CACd,yBAA0B,CAC1B,cAAe,CACf,eAAgB,CAChB,gBAAiB,CACjB,iBAAkB,CAClB,gBAAiB,CACpB,gEAIA,8BAA+B,CAC/B,+CAGG,YAAa,CACb,iBAAkB,CAClB,cAAe,CAEf,QAAS,CACT,OAAS,CAET,wBAAyB,CACzB,mBAAoB,CAEpB,SAAU,CAEV,iBAAkB,CAClB,2CAA4C,CAC/C,iDAGG,aAAc,CACjB,uDAGG,YAAa,CAChB,2CAGG,aAAc,CACjB,2CAGG,aAAc,CACjB,2CAGG,aAAc,CACjB,+CAIG,aAAc,CACjB,uCAGG,iBAAkB,CAClB,YAAa,CACb,uBAAwB,CACxB,0BAA2B,CAC3B,kBAAmB,CACnB,sBAAuB,CACvB,wEAAyE,CACzE,gFAAoF,CACpF,6EAAiF,CACjF,SAAU,CACb,gDAGG,oBAAqB,CACrB,UAAW,CACX,WAAY,CACZ,06BAAwC,CACxC,uBAAwB,CACxB,6DAA8D,CAC9D,qEAAsE,CACzE,0CAGG,GACI,8BAA+B,CAC/B,sBAAuB,CAE3B,KACI,gCAAiC,CACjC,wBAAyB,CAAA,CAIjC,kDACI,GACI,8BAA+B,CAC/B,sBAAuB,CAE3B,KACI,gCAAiC,CACjC,wBAAyB,CAAA,CAIjC,2DACI,YAAa,CACb,sBAAuB,CACvB,qBAAsB,CACtB,WAAY,CACZ,qBAAsB,CACtB,eAAgB,CAChB,iBAAkB,CAClB,gBAAiB,CACjB,mBAAoB,CACvB,kFAGG,UAAW,CACX,YAAa,CACb,kBAAmB,CACnB,iBAAkB,CACrB,qGAGG,UAAW,CACX,kBAAmB,CACnB,eAAgB,CAChB,sBAAuB,CAC1B,gEAGG,YAAa,CAChB,mDAGG,QAAS,CACZ,yCAGG,WAAY,CACZ,SAAU,CACV,qBAAsB,CACtB,UAAW,CACX,eAAgB,CACnB,+DAGG,UAAW,CACX,UAAW,CACX,eAAgB,CACnB,6CAGA,aAAc,CACd,iBAAkB,CAClB,cAAe,CACf,SAAU,CACV,yCAA0C,CAC1C,4EAGG,WAAY,CACZ,UAAW,CACd,kFAGG,gBAAiB",sourcesContent:["/* hover shouldn't work on mobile devices */\n.adsk-viewing-viewer .measure-length:hover.measure-length.enable-hover\n{\n\tbox-shadow: 0 0 16px 3px rgba(0, 117, 210, 0.7);\n\t-webkit-box-shadow: 0 0 16px 3px rgba(0, 117, 210, 0.7);\n    -moz-box-shadow: 0 0 16px 3px rgba(0, 117, 210, 0.7);\n}\n\n.adsk-viewing-viewer .measure-length {\n    display: none;\n    position: absolute;\n\n    height: 19px;\n\n    left: 0px;\n    top:  0px;\n\n    padding: 2px 0 2px 0;\n\n    background-color: #009bea;\n    box-shadow: 0px 1px 3px 1px rgba(0,0,0,0.25);\n\n    color: #f4f4f4;\n    font-size:12px;\n    text-align: center;\n    line-height: 1.2;\n    white-space: nowrap;\n\n    border-radius: 8px;\n    pointer-events: none;\n    cursor: pointer;\n    z-index: 2;\n\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n\n.adsk-viewing-viewer .measure-length.visible {\n    display: block;\n}\n\n.adsk-viewing-viewer .measure-length.fetching-topology {\n    background-color: rgba(34, 34, 34, 0.8);\n    box-shadow: 0 0.5px 1.5px 0 rgba(0, 0, 0, 0.3);\n}\n\n.adsk-viewing-viewer .measure-length-text {\n    display: inline-block;\n    margin: 0 5px 0 5px;\n    vertical-align: middle;\n    font-size: 16px;\n    pointer-events: none;\n}\n\n.adsk-viewing-viewer .measure-delta-text {\n    margin: 0 5px 0 5px;\n    align-self: center;\n    font-size: 14px;\n\toverflow: hidden;\n\twhite-space: nowrap;\n\theight: 16px;\n\tline-height: 16px;\n\tvertical-align: middle;\n\tpointer-events: none;\n}\n\n.adsk-viewing-viewer .measure-length-button {\n    display: inline-block;\n    width: 16px;\n    height: 16px;\n    font-size: 16px;\n    float: right;\n\n    color: #FFFFFF;\n    opacity: 0.7;\n}\n\n.adsk-viewing-viewer .measure-length-button:hover {\n    background-color: rgba(166,194,255, 0.7);\n    -webkit-transition: all 0.2s ease;\n    -moz-transition: all 0.2s ease;\n    -ms-transition: all 0.2s ease;\n    -o-transition: all 0.2s ease;\n    transition: all 0.2s ease;\n}\n\n/* hover shouldn't work on mobile devices */\n.adsk-viewing-viewer .measure-label:hover.measure-label.enable-hover,\n.adsk-viewing-viewer .measure-label.on-edit {\n\tbox-shadow: 0 0 4px 4px #0d69ca;\n\t-webkit-box-shadow: 0 0 4px 4px #0d69ca;\n    -moz-box-shadow: 0 0 4px 4px #0d69ca;\n}\n\n.adsk-viewing-viewer .measure-label.editable {\n\tpointer-events: all;\n}\n\n.adsk-viewing-viewer .measure-label {\n    display: none;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    cursor: move;\n    pointer-events: none; \n    border-radius:100px;\n}\n\n.adsk-viewing-viewer .measure-label-hit-area {\n\tdisplay: inline-block;\n    position: absolute;\n    width: 44px;\n    height: 44px;\n    left: -22px;\n    top: -22px;\n    border-radius:100px;\n    z-index: 2;\n}\n\n.adsk-viewing-viewer .measure-label-icon {\n    display: inline-block;\n    position: absolute;\n    width: 7px;\n    height: 7px;\n    left: -2px;\n    top: -2px;\n    background-color: #009bea;\n    border-style: solid;\n    border-width: 2px;\n    border-color: #FFFFFF;\n    border-radius:100px;\n\tbox-shadow: 0 2px 5px 0 #182A3D;\n\tz-index: 2;\n}\n\n.adsk-viewing-viewer .measure-label.visible {\n    display: block;\n}\n\n\n.adsk-viewing-viewer .measure-label-text {\n    display: inline-block;\n    margin: 0px 5px 0px 5px;\n    vertical-align: middle;\n}\n\n.adsk-viewing-viewer .measure-horizontal-divider\n{\n    height: 1px;\n    border-top: 1px solid rgba(200,200,200,0.8);\n}\n\n.adsk-viewing-viewer .measure-submenu-select\n{\n    display: block;\n    position: relative;\n    width: calc(100% - 40px);\n    padding: 10px 20px 0px 20px;\n    opacity: 0.3;\n}\n\n.adsk-viewing-viewer .option-drop-down:disabled {\n    opacity: 0.3;\n}\n\n.adsk-viewing-viewer .measure-submenu-selectlabel\n{\n    position: relative;\n    display:  inline-block;\n    padding-right:  20px;\n    padding-bottom:  4px;\n}\n\n/*.measure-result {*/\n    /*display: inline-block;*/\n    /*padding: 10px 0px  10px 20px;*/\n/*}*/\n\n.adsk-viewing-viewer .measure-results {\n    position: relative;\n    display: block;\n    padding: 5px 0px  10px 30px;\n}\n\n.adsk-viewing-viewer .measure-result-label {\n    display: inline-block;\n    padding-right: 10px;\n}\n\n.adsk-viewing-viewer .measure-result-number {\n    display: inline-block;\n}\n\n.adsk-viewing-viewer .measure-delta-collapse {\n    position: absolute;\n    right: 20px;\n    display: inline-block;\n    background-color: rgba(255,255,255, .12);\n    margin: 0px 4px 0px 4px;\n    padding: 0px 4px 0px 4px;\n    cursor: pointer;\n    text-align: center;\n}\n\n.adsk-viewing-viewer .measure-delta-collapse:hover {\n    background-color: rgba(166,194,255, 0.7);\n    -webkit-transition: all 0.2s ease;\n    -moz-transition: all 0.2s ease;\n    -ms-transition: all 0.2s ease;\n    -o-transition: all 0.2s ease;\n    transition: all 0.2s ease;\n}\n\n.adsk-viewing-viewer .measure-selection-repick {\n    position: absolute;\n    right: 20px;\n    display: inline-block;\n    background-color: rgba(255,255,255, .12);\n    margin: 4px 4px 4px 4px;\n    padding: 4px 4px 4px 4px;\n    cursor: pointer;\n    text-align: center;\n}\n\n.adsk-viewing-viewer .measure-selection-repick:hover {\n    background-color: rgba(166,194,255, 0.7);\n    -webkit-transition: all 0.2s ease;\n    -moz-transition: all 0.2s ease;\n    -ms-transition: all 0.2s ease;\n    -o-transition: all 0.2s ease;\n    transition: all 0.2s ease;\n}\n\n.adsk-viewing-viewer .measure-restart {\n    margin: 10px 20px 15px 20px;\n    padding: 6px 10px 6px 10px;\n    width: calc(100% - 55px);\n    cursor: pointer;\n    text-align: center;\n    border-style: solid;\n    border-width: 1px;\n    border-color: rgba(255, 255, 255, 0.2);\n    border-radius: 3px;\n}\n\n.adsk-viewing-viewer .docking-panel:hover .measure-restart {\n    background-color: rgba(255,255,255, .12);\n}\n\n.adsk-viewing-viewer .docking-panel .measure-restart:hover {\n    background-color: rgba(166,194,255, 0.7);\n    -webkit-transition: all 0.2s ease;\n    -moz-transition: all 0.2s ease;\n    -ms-transition: all 0.2s ease;\n    -o-transition: all 0.2s ease;\n    transition: all 0.2s ease;\n}\n\n.adsk-viewing-viewer .measure-panel-title {\n    padding-top:   0px;\n    padding-left: 20px;\n    margin-top: 10px;\n}\n\n.adsk-viewing-viewer .measure-panel-title:hover {\n    cursor: pointer;\n}\n\n.adsk-viewing-viewer .measure-panel-title.collapsed  {\n    background-image: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkEwMDhBMzY4QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkEwMDhBMzY5QTYyODExRTM5REY0Q0MwMTM3MTVFOTMzIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTAwOEEzNjZBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTAwOEEzNjdBNjI4MTFFMzlERjRDQzAxMzcxNUU5MzMiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6WHWu4AAAAcElEQVR42mL8//8/AzmAiYFMgEtjGSFDcUmGAfEEIOYix6lWQLwUiGXJ8SNI00IgNiIncPiAeCoQ+5ITqsxQA+CAhQhN34C4AoiPkaLxGRAXAfEdUvx4DohjsGkCA1CSw4LrgZgVhxwYM9I9rQIEGACZNDs01yUXlAAAAABJRU5ErkJggg==);\n    background-repeat:no-repeat;\n}\n\n.adsk-viewing-viewer .measure-panel-title.expanded  {\n    background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAOCAYAAAAfSC3RAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyBpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuMC1jMDYwIDYxLjEzNDc3NywgMjAxMC8wMi8xMi0xNzozMjowMCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNSBXaW5kb3dzIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOkE3QzFFQUQ1QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOkE3QzFFQUQ2QTYyODExRTM5NzE2RjcyN0QxQjg0QTREIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6QTdDMUVBRDNBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6QTdDMUVBRDRBNjI4MTFFMzk3MTZGNzI3RDFCODRBNEQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz6XuY60AAAARklEQVR42mL8//8/AzmAiYFMQBeNqSg8kB+JwKlAfAZZjIlIm9JJdSpWTYQ04tSETyNeTbg0EtSETSNRmkCAcegkOYAAAwDGjDZHvY373AAAAABJRU5ErkJggg==);\n    background-repeat:no-repeat;\n}\n\n.adsk-viewing-viewer .adsk-viewing-viewer .measure-table td {\n    padding: 10px 0px  10px 20px;\n}\n\n.adsk-viewing-viewer .measure-result-container {\n\n}\n\n.adsk-viewing-viewer .measure-selection-one-label {\n    display: inline-block;\n    margin: 18px 18px 18px 18px;\n    width: 16px;\n    height: 16px;\n    font-size: 16px;\n    float: left;\n\n    padding: 2px;\n    background-color: #0033FF;\n    border-radius:         10px;\n    opacity: 0.6;\n}\n\n.adsk-viewing-viewer .measure-selection-two-label {\n    display: inline-block;\n    margin: 18px 18px 18px 18px;\n    width: 16px;\n    height: 16px;\n    font-size: 16px;\n    float: left;\n\n    padding: 2px;\n    background-color: #0033FF;\n    border-radius:         10px;\n    opacity: 0.6;\n}\n\n.adsk-viewing-viewer .measure-repick {\n    display: inline-block;\n    cursor: default;\n    margin: 20px 20px 20px 20px;\n    width: 16px;\n    height: 16px;\n    font-size: 16px;\n    float: right;\n    opacity: 0.5;\n}\n\n.adsk-viewing-viewer .measure-repick:hover {\n    opacity: 1;\n}\n\n.adsk-viewing-viewer .measure-selection-result {\n    display: inline-block;\n    margin: 21px 0px 21px 0px;\n}\n\n.adsk-viewing-viewer .measure-distance-icon {\n    display: inline-block;\n    margin: 20px 2px 20px 2px;\n    font-size: 52px;\n    color: #FF9900;\n    float: left;\n}\n\n.adsk-viewing-viewer .measure-angle-icon {\n    display: inline-block;\n    margin: 20px 2px 20px 2px;\n    font-size: 52px;\n    color: #FF9900;\n    float: left;\n}\n\n.adsk-viewing-viewer .adsk-viewing-viewer .measure-result {\n    font-size: 20px;\n    color: #FF9900;\n    display: inline-block;\n    margin: 38px 0px 38px 0px;\n}\n\n.adsk-viewing-viewer .measure-initial {\n    font-size: 20px;\n    display: inline-block;\n    margin: 38px 0px 38px 56px;\n}\n\n.adsk-viewing-viewer .measure-settings-button {\n    cursor: default;\n    position: relative;\n    top: 20px;\n    right: 20px;\n    width: 16px;\n    height: 16px;\n    font-size: 18px;\n    float: right;\n    opacity: 0.5;\n}\n\n.adsk-viewing-viewer .measure-settings-button:hover {\n    opacity: 1;\n}\n\n.adsk-viewing-viewer .measure-delta-button {\n    position: relative;\n    top: 56px;\n    right: 4px;\n    width: 16px;\n    height: 16px;\n    font-size: 16px;\n    float: right;\n    opacity: 0.5;\n    -webkit-transform : rotate(-90deg);\n    -moz-transform : rotate(-90deg);\n    -ms-transform : rotate(-90deg);\n    -o-transform : rotate(-90deg);\n    transform : rotate(-90deg);\n}\n\n.adsk-viewing-viewer .measure-delta-button.rotated {\n    -webkit-transform : rotate(90deg);\n    -moz-transform : rotate(90deg);\n    -ms-transform : rotate(90deg);\n    -o-transform : rotate(90deg);\n    transform : rotate(90deg);\n}\n\n.adsk-viewing-viewer .measure-delta-button:hover {\n    opacity: 1;\n}\n\n.adsk-viewing-viewer .measure-delta-result {\n    display: inline-block;\n    margin: 0px 0px 20px 0px;\n    padding: 0px 0px 0px 56px;\n}\n\n.adsk-viewing-viewer .measure-label-axis {\n    display: none;\n    position: absolute;\n\n    width: 16px;\n    height: 16px;\n\n    left: 0px;\n    top:  0px;\n\n    background-color: #f4f4f4;\n    border-radius: 8px;\n    pointer-events: none;\n}\n\n.adsk-viewing-viewer .measure-label-axis-icon.X {\n    background-color: #F12C2C;\n}\n\n.adsk-viewing-viewer .measure-label-axis-icon.Y {\n    background-color: #0BB80B;\n}\n\n.adsk-viewing-viewer .measure-label-axis-icon.Z {\n    background-color: #2C2CF1;\n}\n\n.adsk-viewing-viewer .measure-label-axis-icon {\n\twidth: 20px;\n    height: 18px;\n    color: #f4f4f4;\n    border-radius: 8px 0 0 8px;\n    font-size: 12px;\n    padding-top: 4px;\n    line-height: 15px;\n    text-align: center;\n    margin-left: -2px;\n}\n\n/* hover shouldn't work on mobile devices */\n.adsk-viewing-viewer .measure-label-axis-delta.enableTransition{\n\ttransition: opacity 0.1s linear;\n}\n\n.adsk-viewing-viewer .measure-label-axis-delta {\n    display: none;\n    position: absolute;\n    font-size: 18px;\n\n    left: 0px;\n    top:  0px;\n\n    background-color: #ffffff;\n    pointer-events: none;\n    \n    opacity: 0;\n\n    border-radius: 8px;\n    box-shadow: 0px 1px 3px 1px rgba(0,0,0,0.25);\n}\n\n.adsk-viewing-viewer .measure-label-axis.visible {\n    display: block;\n}\n\n.adsk-viewing-viewer .measure-label-axis-delta.visible {\n    display: flex;\n}\n\n.adsk-viewing-viewer .measure-label-axis-x {\n    color: #F12C2C;\n}\n\n.adsk-viewing-viewer .measure-label-axis-y {\n    color: #0BB80B;\n}\n\n.adsk-viewing-viewer .measure-label-axis-z {\n    color: #2C2CF1;\n}\n\n\n.adsk-viewing-viewer .magnifying-glass.visible {\n    display: block;\n}\n\n.adsk-viewing-viewer .magnifying-glass {\n    position: absolute;\n    display: none;\n    -moz-border-radius: 100%;\n    -webkit-border-radius: 100%;\n    border-radius: 100%;\n    background: transparent;\n    box-shadow: 2px 2px 4px rgba(0,0,0,0.5), inset 2px 2px 4px rgba(0,0,0,.5);\n    -webkit-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), inset 2px 2px 4px rgba(0,0,0,.5);  \n    -moz-box-shadow: 2px 2px 4px rgba(0, 0, 0, 0.5), inset 2px 2px 4px rgba(0,0,0,.5);\n    z-index: 4;\n}\n\n.adsk-viewing-viewer .measure-fetching-topology {\n    display: inline-block;\n    width: 10px;\n    height: 10px;\n    background: url(res/icon-spinner-sm.svg);\n    margin: 3px 0px -2px 3px;\n    animation: measure-topology-fetching-anim 1.4s infinite linear;\n    -webkit-animation: measure-topology-fetching-anim 1.4s infinite linear;\n}\n\n@keyframes measure-topology-fetching-anim {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n    }\n}\n\n@-webkit-keyframes measure-topology-fetching-anim {\n    0% {\n        -webkit-transform: rotate(0deg);\n        transform: rotate(0deg);\n    }\n    100% {\n        -webkit-transform: rotate(360deg);\n        transform: rotate(360deg);\n    }\n}\n\n.adsk-viewing-viewer .docking-panel.measure-settings-popup {\n    display: flex;\n    justify-content: center;\n    flex-direction: column;\n    bottom: 120%;\n    box-sizing: border-box;\n    text-align: left;\n    position: absolute;\n    padding-top: 15px;\n    padding-bottom: 15px;\n}\n\n.adsk-viewing-viewer .adsk-toolbar-vertical .docking-panel.measure-settings-popup {\n    right: 120%;\n    bottom: unset;\n    height: max-content;\n    width: max-content;\n}\n\n.adsk-viewing-viewer .docking-panel.measure-settings-popup .adsk-lmv-tftable tr.switch-slider-row td {\n    width: auto;\n    padding-bottom: 0px;\n    padding-top: 0px;\n    vertical-align: inherit;\n}\n\n.adsk-viewing-viewer .docking-panel.measure-settings-popup.hide {\n    display: none;\n}\n\n.adsk-viewing-viewer .measure-settings-popup tbody {\n    top: 15px;\n}\n\n.adsk-toolbar .measure-toolbar-seperator {\n    height: 18px;\n    width: 1px;\n    background-color: #999;\n    float: left;\n    margin: 16px 5px;\n}\n\n.adsk-toolbar.adsk-toolbar-vertical .measure-toolbar-seperator {\n    height: 1px;\n    width: 18px;\n    margin: 5px 16px;\n}\n\n.adsk-viewing-viewer .measure-selection-area {\n\tdisplay: block;\n\tposition: absolute;\n\tcursor: pointer;\n\tz-index: 1;\n\t-webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n\n.adsk-viewing-viewer .adsk-toolbar.adsk-toolbar-vertical .adsk-label-button {\n    padding: 0px;\n    width: 40px;\n}\n\n.adsk-viewing-viewer .adsk-toolbar.adsk-toolbar-vertical .adsk-label-button > label {\n    padding: 10px 0px;\n}"],sourceRoot:""}]);const o=r},23645:e=>{"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var i="",n=void 0!==t[5];return t[4]&&(i+="@supports (".concat(t[4],") {")),t[2]&&(i+="@media ".concat(t[2]," {")),n&&(i+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),i+=e(t),n&&(i+="}"),t[2]&&(i+="}"),t[4]&&(i+="}"),i})).join("")},t.i=function(e,i,n,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var r={};if(n)for(var o=0;o<this.length;o++){var l=this[o][0];null!=l&&(r[l]=!0)}for(var c=0;c<e.length;c++){var h=[].concat(e[c]);n&&r[h[0]]||(void 0!==s&&(void 0===h[5]||(h[1]="@layer".concat(h[5].length>0?" ".concat(h[5]):""," {").concat(h[1],"}")),h[5]=s),i&&(h[2]?(h[1]="@media ".concat(h[2]," {").concat(h[1],"}"),h[2]=i):h[2]=i),a&&(h[4]?(h[1]="@supports (".concat(h[4],") {").concat(h[1],"}"),h[4]=a):h[4]="".concat(a)),t.push(h))}},t}},87537:e=>{"use strict";e.exports=function(e){var t=e[1],i=e[3];if(!i)return t;if("function"==typeof btoa){var n=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(n),s="/*# ".concat(a," */"),r=i.sources.map((function(e){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(e," */")}));return[t].concat(r).concat([s]).join("\n")}return[t].join("\n")}},93379:e=>{"use strict";var t=[];function i(e){for(var i=-1,n=0;n<t.length;n++)if(t[n].identifier===e){i=n;break}return i}function n(e,n){for(var s={},r=[],o=0;o<e.length;o++){var l=e[o],c=n.base?l[0]+n.base:l[0],h=s[c]||0,d="".concat(c," ").concat(h);s[c]=h+1;var u=i(d),A={css:l[1],media:l[2],sourceMap:l[3]};-1!==u?(t[u].references++,t[u].updater(A)):t.push({identifier:d,updater:a(A,n),references:1}),r.push(d)}return r}function a(e,t){var i=t.domAPI(t);return i.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;i.update(e=t)}else i.remove()}}e.exports=function(e,a){var s=n(e=e||[],a=a||{});return function(e){e=e||[];for(var r=0;r<s.length;r++){var o=i(s[r]);t[o].references--}for(var l=n(e,a),c=0;c<s.length;c++){var h=i(s[c]);0===t[h].references&&(t[h].updater(),t.splice(h,1))}s=l}}},90569:e=>{"use strict";var t={};e.exports=function(e,i){var n=function(e){if(void 0===t[e]){var i=document.querySelector(e);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(e){i=null}t[e]=i}return t[e]}(e);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");n.appendChild(i)}},19216:e=>{"use strict";e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t),t}},3565:(e,t,i)=>{"use strict";e.exports=function(e){var t=i.nc;t&&e.setAttribute("nonce",t)}},7795:e=>{"use strict";e.exports=function(e){var t=e.insertStyleElement(e);return{update:function(i){!function(e,t,i){var n=i.css,a=i.media,s=i.sourceMap;a?e.setAttribute("media",a):e.removeAttribute("media"),s&&"undefined"!=typeof btoa&&(n+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(n,e)}(t,e,i)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},44589:e=>{"use strict";e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function i(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={id:n,exports:{}};return e[n](s,s.exports,i),s.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var n={};(()=>{"use strict";i.r(n),i.d(n,{MeasureExtension:()=>Pe});var e=Autodesk.Viewing.MeasureCommon;function t(e){this.viewer=e,this.init(),this.restoredMeasurementData=[]}var a=t.prototype;a.getCurrentMeasurement=function(){return this.currentMeasurement},a.getRestoredMeasurementData=function(){return this.restoredMeasurementData.slice()},a.selectMeasurementById=function(e){var t=this.measurementsList[e];return!!t&&(this.changeCurrentMeasurement(t),this.currentMeasurement)},a.createMeasurement=function(t,i){var n=this.measurementsCounter,a=new e.Measurement(t,n,i);return this.measurementsList[n]=a,this.measurementsCounter++,this.changeCurrentMeasurement(a),this.currentMeasurement},a.createMeasurementFromData=function(t,i,n,a){let s=t.options;if(s){s=JSON.parse(JSON.stringify(s));const e=Object.prototype.hasOwnProperty.call(s,"modelId")&&s.modelId?this.viewer.impl.findModel(s.modelId):this.viewer.model,t=e&&e.getData().globalOffset;if(t&&(0!==t.x||0!==t.y||0!==t.z)){const e=e=>{if(e)for(let i=0;i<e.length;++i)THREE.Vector3.prototype.sub.call(e[i],t)};e(s.dimensionOffset),e(s.dashedLeader),e(s.arc)}}this.createMeasurement(i,s),n instanceof Function&&n(this.currentMeasurement),this.initPicks(t.picks),a instanceof Function&&a(),this.currentMeasurement.measurementType===e.MeasurementTypes.MEASUREMENT_AREA?this.currentMeasurement.closedArea=!0:this.currentMeasurement.measurementType===e.MeasurementTypes.MEASUREMENT_CALLOUT&&(this.currentMeasurement.text=t.text);this.currentMeasurement.indicator.changeAllEndpointsEditableStyle(!0),this.currentMeasurement.indicator.enableSelectionAreas(!0),this.currentMeasurement.indicator.enableLabelsTouchEvents(!0),this.activatePicks(),this.currentMeasurement.computeResult(this.currentMeasurement.picks,this.viewer),this.currentMeasurement.indicator.renderFromPoints((()=>{const e=this.restoredMeasurementData[this.currentMeasurement.id],t=Object.keys(e),i=[];for(let n=0;n<t.length;n++){const a=t[n],s=e[a];i[a]={intersection:s.intersection,circularArcRadius:s.circularArcRadius,circularArcCenter:s.circularArcCenter}}return i})(),!0),this.currentMeasurement.indicator.changeAllEndpointsEditableStyle(!0),this.currentMeasurement.indicator.enableSelectionAreas(!0),this.currentMeasurement.indicator.enableLabelsTouchEvents(!0),this.currentMeasurement.isRestored=!0},a.initPicks=function(e){if(!e)return;const t=[];for(let i=0;i<e.length;i++){const n=e[i];if(!n)continue;const a=i+1;let s=new THREE.Vector3(n.intersection.x,n.intersection.y,n.intersection.z);const r=Object.prototype.hasOwnProperty.call(n,"modelId")&&n.modelId?this.viewer.impl.findModel(n.modelId):this.viewer.model;if(r){const e=r.getData();s=e&&Object.prototype.hasOwnProperty.call(e,"globalOffset")?s.sub(e.globalOffset).clone():s.clone()}t[a]={intersection:s,viewportId:n.viewportIndex2d,hasTopology:n.hasTopology,modelId:n.modelId,snapNode:n.snapNode,circularArcRadius:n.circularArcRadius,circularArcCenter:n.circularArcCenter},this.currentMeasurement.getPick(a)}this.restoredMeasurementData[this.currentMeasurement.id]=t},a.activatePicks=function(){if(!this.currentMeasurement.picks)return;const t=Object.keys(this.currentMeasurement.picks),i=this.currentMeasurement.id;for(let n=0;n<t.length;n++){const a=t[n],s=this.currentMeasurement.picks[a],r=this.getRestoredMeasurementData()[i][a];let o=r.intersection.clone();!s.getGeometry()&&r.intersection&&(s.geomType=e.SnapType.SNAP_VERTEX,s.geomVertex=o,s.intersectPoint=o,s.modelId=r.modelId,s.snapNode=r.snapNode,s.circularArcCenter=r.circularArcCenter,s.circularArcRadius=r.circularArcRadius,s.viewportIndex2d=r.viewportId)}},a.changeCurrentMeasurement=function(t){this.currentMeasurement=t,this.viewer.dispatchEvent({type:e.Events.MEASUREMENT_CHANGED_EVENT,data:{type:t.measurementType,id:t.id}})},a.removeCurrentMeasurement=function(){Object.keys(this.measurementsList).length>0&&delete this.measurementsList[this.currentMeasurement.id]},a.init=function(){this.reset()},a.destroy=function(){this.reset()},a.reset=function(){this.currentMeasurement=null,this.measurementsList={},this.measurementsCounter=0};var s=Autodesk.Viewing,r=s.MeasureCommon,o=function(e,t,i){this.viewer=e,this.setGlobalManager(e.globalManager),this.measurement=t,this.tool=i,this.snapper=i.getSnapper(),this.materialExtensionLine=null,this.materialExtensionFace=null,this.extensionLines=[],this.extensionFaces=[],this.grayOutPlane=[],this.materialPoint=null,this.materialLine=null,this.materialAngle=null,this.materialAngleOutline=null,this.materialGreyOutPlane=null,this.materialFace=null,this.angleArc=null,this.angleOutline=[],this.arcOutline=[],this.arcTip=[],this.showMeasureResult=!1,this.visibleLabels=[],this.overlayName="measure-indicator-overlay-"+(t.id||""),this.xAxis=this.viewer.autocam.getWorldRightVector(),this.yAxis=this.viewer.autocam.getWorldUpVector(),this.zAxis=this.viewer.autocam.getWorldFrontVector()},l=o.prototype;function c(e){function t(e,t,n,a){this.x=e,this.y=t,this.h=n,this.d=function(e,t,n){for(var a=!1,s=1/0,r=0;r<n.length;r++)for(var o=n[r],l=0,c=o.length,h=c-1;l<c;h=l++){var d=o[l],u=o[h];d.y>t!=u.y>t&&e<(u.x-d.x)*(t-d.y)/(u.y-d.y)+d.x&&(a=!a),s=Math.min(s,i(e,t,d,u))}return(a?1:-1)*Math.sqrt(s)}(e,t,a),this.max=this.d+this.h*Math.SQRT2}function i(e,t,i,n){var a=i.x,s=i.y,r=n.x-a,o=n.y-s;if(0!==r||0!==o){var l=((e-a)*r+(t-s)*o)/(r*r+o*o);l>1?(a=n.x,s=n.y):l>0&&(a+=r*l,s+=o*l)}return(r=e-a)*r+(o=t-s)*o}function n(e,t){if(!(this instanceof n))return new n(e,t);if(this.data=e||[],this.length=this.data.length,this.compare=t||function(e,t){return e<t?-1:e>t?1:0},this.length>0)for(var i=this.length>>1;i>=0;i--)this._down(i)}if(n.prototype={push:function(e){this.data.push(e),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var e=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),e}},peek:function(){return this.data[0]},_up:function(e){for(var t=this.data,i=this.compare,n=t[e];e>0;){var a=e-1>>1,s=t[a];if(i(n,s)>=0)break;t[e]=s,e=a}t[e]=n},_down:function(e){for(var t=this.data,i=this.compare,n=this.length>>1,a=t[e];e<n;){var s=1+(e<<1),r=s+1,o=t[s];if(r<this.length&&i(t[r],o)<0&&(s=r,o=t[r]),i(o,a)>=0)break;t[e]=o,e=s}t[e]=a}},3===e.length)return function(e){for(var t=new THREE.Vector3,i=e.length,n=0;n<i;n++)t.add(e[n]);return t.multiplyScalar(1/i),t}(e);var a,s,r,o;e=[e];for(var l=0;l<e[0].length;l++){var c=e[0][l];(!l||c.x<a)&&(a=c.x),(!l||c.y<s)&&(s=c.y),(!l||c.x>r)&&(r=c.x),(!l||c.y>o)&&(o=c.y)}var h=r-a,d=o-s,u=Math.min(h,d),A=u/2,p=new n(null,(function(e,t){return t.max-e.max}));if(0===u)return[a,s];for(var m=a;m<r;m+=u)for(var g=s;g<o;g+=u)p.push(new t(m+A,g+A,A,e));var b=function(e){for(var i=0,n=0,a=0,s=e[0],r=0,o=s.length,l=o-1;r<o;l=r++){var c=s[r],h=s[l],d=c.x*h.y-h.x*c.y;n+=(c.x+h.x)*d,a+=(c.y+h.y)*d,i+=3*d}return 0===i?new t(s[0].x,s[0].y,0,e):new t(n/i,a/i,0,e)}(e),C=new t(a+h/2,s+d/2,0,e);for(C.d>b.d&&(b=C);p.length;){var v=p.pop();v.d>b.d&&(b=v),v.max-b.d<=.01||(A=v.h/2,p.push(new t(v.x-A,v.y-A,A,e)),p.push(new t(v.x+A,v.y-A,A,e)),p.push(new t(v.x-A,v.y+A,A,e)),p.push(new t(v.x+A,v.y+A,A,e)))}return{x:b.x,y:b.y}}s.GlobalManagerMixin.call(l),l.init=function(){return!1},l.updateDistance=function(){return!1},l.updateAngle=function(){return!1},l.clear=function(){return!1},l.updateLabelsPosition=function(){return!1},l.renderFromPoints=function(e,t){this.showMeasureResult=t,this.clear();for(var i=1;i<=Object.keys(e).length;i++){const t=e[i].intersection;this.endpoints[i]||this.createEndpoint(i),this.endpoints[i].position=new THREE.Vector3(t.x,t.y,t.z),this.showClick(i)}this.renderRubberbandFromPoints(e),this.updateLabelsPosition()},l.render=function(e,t){this.showMeasureResult=t,this.clear();for(var i=1;i<=Object.keys(e).length;i++)this.measurement.hasPick(i)&&this.renderPick(i);this.renderRubberband(e),this.updateLabelsPosition()},l.changeEndpointOnEditStyle=function(e,t){return!1},l.handleResize=function(){return!1},l.setNoTopology=function(){return!1},l.setFetchingTopology=function(){return!1},l.setTopologyAvailable=function(){return!1},l.clientToCanvasCoords=function(e){var t=this.viewer.impl.getCanvasBoundingClientRect(),i={};return Object.prototype.hasOwnProperty.call(e,"center")?(e.canvasX=i.x=e.center.x-t.left,e.canvasY=i.y=e.center.y-t.top):(e.canvasX=i.x=e.pointers[0].clientX-t.left,e.canvasY=i.y=e.pointers[0].clientY-t.top),i},l.initLabelMobileGestures=function(e,t){var i=this.viewer.toolController.getTool("magnifyingGlass");this.hammer=new s.Hammer.Manager(e,{recognizers:[s.GestureRecognizers.drag,s.GestureRecognizers.singletap],handlePointerEventMouse:!1,inputClass:s.isIE11?s.Hammer.PointerEventInput:s.Hammer.TouchInput}),this.onSingleTapBinded=function(e){var i=this.clientToCanvasCoords(e);this.snapper.onMouseDown(i),this.tool.editEndpoint(e,t,this.measurement.id)}.bind(this),this.onDragStartBinded=function(e){var n=this.clientToCanvasCoords(e);this.snapper.onMouseDown(n),this.tool.editEndpoint(e,t,this.measurement.id),this.tool.editByDrag=!0,e.type="press",i.handlePressHold(e),this.tool.handlePressHold(e),e.type="dragstart",i.handleGesture(e),this.tool.handleGesture(e)}.bind(this),this.onDragMoveBinded=function(e){var t=this.clientToCanvasCoords(e);this.snapper.onMouseDown(t),i.handleGesture(e),this.tool.handleGesture(e)}.bind(this),this.onDragEndBinded=function(e){var t=this.clientToCanvasCoords(e);this.snapper.onMouseDown(t),i.handleGesture(e),this.tool.handleGesture(e),e.type="pressup",i.handlePressHold(e),this.tool.handlePressHold(e),this.tool.handleButtonUp(e)}.bind(this),this.hammer.on("singletap",this.onSingleTapBinded),this.hammer.on("dragstart",this.onDragStartBinded),this.hammer.on("dragmove",this.onDragMoveBinded),this.hammer.on("dragend",this.onDragEndBinded)},l.clearLabelMobileGestures=function(){this.hammer&&(this.hammer.off("singletap",this.onSingleTapBinded),this.hammer.off("dragstart",this.onDragStartBinded),this.hammer.off("dragmove",this.onDragMoveBinded),this.hammer.off("dragend",this.onDragEndBinded),this.hammer=null)},l.updateVisibleLabelsArray=function(e,t){if(t)this.visibleLabels.indexOf(e)>-1||this.visibleLabels.push(e);else{var i=this.visibleLabels.indexOf(e);i>-1&&this.visibleLabels.splice(i,1)}},l.hideEndpoints=function(){for(var e in this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,e)){var t=this.endpoints[e];t.label&&this.hideLabel(t.label)}},l.showEndpoints=function(){for(var e in this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,e)){var t=this.endpoints[e];this.measurement.hasPick(e)&&t.label&&this.showLabel(t.label)}},l.hideLabel=function(e){e&&(r.safeToggle(e,"visible",!1),this.updateVisibleLabelsArray(e,!1))},l.showLabel=function(e){e&&(r.safeToggle(e,"visible",!0),this.updateVisibleLabelsArray(e,!0))},l.changeEndpointOnEditStyle=function(e,t){this.endpoints[e]&&this.endpoints[e].label&&r.safeToggle(this.endpoints[e].label,"on-edit",t)},l.changeEndpointEditableStyle=function(e,t){this.endpoints[e]&&this.endpoints[e].label&&r.safeToggle(this.endpoints[e].label,"editable",t)},l.changeAllEndpointsEditableStyle=function(e){for(var t in this.endpoints)Object.prototype.hasOwnProperty.call(this.endpoints,t)&&this.changeEndpointEditableStyle(t,e)},l.changeAllEndpointsOnEditStyle=function(e){for(var t in this.endpoints)Object.prototype.hasOwnProperty.call(this.endpoints,t)&&this.changeEndpointOnEditStyle(t,e)},l.hideLabelsOutsideOfView=function(){this.viewer.model&&!this.viewer.model.is2d()&&this.visibleLabels.forEach(function(e){if(e.point){var t=this.viewer.navigation.isPointVisible(e.point);(e.classList.contains("visible")&&!t||!e.classList.contains("visible")&&t)&&e.classList.toggle("visible",t)}}.bind(this))},l.showClick=function(e){this.tool.getActivePointIndex()!==e&&this.showLabel(this.endpoints[e].label)},l.hideClick=function(e){this.endpoints[e]&&this.hideLabel(this.endpoints[e].label)},l.renderPick=function(e){this.endpoints[e]||this.createEndpoint(e),this.renderEndpointGeometry(e),this.showClick(e)},l.renderEndpointGeometry=function(e){var t=r.getSnapResultPosition(this.measurement.getPick(e),this.viewer);null!==t&&(this.endpoints[e].position=t.clone())},l.drawEdgeAsCylinder=function(e,t,i,n,a){var s,r=[];const o=e.getAttribute("position"),l=new THREE.Vector3,c=new THREE.Vector3;if(1==n)for(let e=0;e<o.count;e+=2)l.fromBufferAttribute(o,e),c.fromBufferAttribute(o,e+1),s=this.cylinderMesh(l,c,t,i,a),this.setCylinderScale(s,l,c),r.push(s);else for(let e=0;e<o.count-1;e++)l.fromBufferAttribute(o,e),c.fromBufferAttribute(o,e+1),s=this.cylinderMesh(l,c,t,i,a),this.setCylinderScale(s,l,c),r.push(s);return r},l.drawDashedLine=function(e,t,i,n,a,s,r){const o=new THREE.BufferGeometry;var l=(new THREE.Vector3).subVectors(t,e),c=l.length()-n,h=l.normalize(),d=e.clone(),u=0;const A=[];for(;u<c;){var p=this.viewer.navigation.isPointVisible(d);p&&A.push(d.clone()),d.addVectors(d,h.clone().multiplyScalar(i)),p&&A.push(d.clone()),d.addVectors(d,h.clone().multiplyScalar(n)),u+=i+n}return o.setFromPoints(A),l=this.drawEdgeAsCylinder(o,a,s,1,this.getNewCylinderGeometry()),this.viewer.impl.addMultipleOverlays(r,l),l},l.drawLineAsCylinder=function(e,t,i,n){var a;const s=e.getAttribute("position");if(2==s.count){const e=(new THREE.Vector3).fromBufferAttribute(s,0),r=(new THREE.Vector3).fromBufferAttribute(s,1);a=this.cylinderMesh(e,r,t,i,this.getNewCylinderGeometry()),this.setCylinderScale(a,e,r),this.viewer.impl.addOverlay(n,a)}return a},l.getNewCylinderGeometry=function(){return new THREE.CylinderGeometry(.1,.1,1,8,1,!0)},l.cylinderMesh=function(e,t,i,n,a){var s=(new THREE.Vector3).subVectors(t,e),r=new THREE.Matrix4;r.lookAt(e,t,(new THREE.Object3D).up),r.multiply((new THREE.Matrix4).set(n,0,0,0,0,0,n,0,0,-s.length(),0,0,0,0,0,1));var o=new THREE.Mesh(a,i);return o.applyMatrix4(r),o.lmv_line_width=n,o.position.x=(t.x+e.x)/2,o.position.y=(t.y+e.y)/2,o.position.z=(t.z+e.z)/2,o},l.setCylinderScale=function(e,t,i){var n;if(t&&i){var a=r.nearestPointInPointToSegment(this.viewer.navigation.getPosition(),t,i);n=this.setScale(a)}else n=this.setScale(e.position);Object.prototype.hasOwnProperty.call(e,"lmv_line_width")&&(n*=e.lmv_line_width),e.scale.x=n,e.scale.z=n},l.setScale=function(e){var t=this.viewer.navigation,i=t.getCamera(),n=t.getPosition(),a=e.clone(),s=i.isPerspective?a.sub(n).length():t.getEyeVector().length(),r=t.getVerticalFov();return 5*(2*s*Math.tan(THREE.Math.degToRad(.5*r)))/t.getScreenViewport().height},l.alignLabelWithLine=function(e,t,i,n,a){var s=a.navigation.getCameraUpVector(),r=180*new THREE.Vector3(0,1,0).angleTo(s)/Math.PI;r=s.x>=0?r:-r;var o=null,l=t.x-i.x,c=t.y-i.y;o=-((o=t.x<i.x?180*Math.atan2(-c,-l)/Math.PI:180*Math.atan2(c,l)/Math.PI)+r),Math.abs(o)>90&&(o+=180),e.style.transform="rotate("+o+"deg) translate(0px, "+n+"px)"},l.destroy=function(){for(var e in this.materialPoint=null,this.materialFace=null,this.materialLine=null,this.materialAngle=null,s.isTouchDevice()&&this.clearLabelMobileGestures(),this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,e)){var t=this.endpoints[e];t.label&&(t.label.removeEventListener(s.isSafari()?"mousedown":"pointerdown",this.onMouseClickBinded),t.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),t.label.parentNode.removeChild(t.label),t.label=null)}this.visibleLabels=[]},l.renderRubberbandFromPoints=function(e){const t=Object.keys(e),i=[];for(let n=0;n<t.length;n++)i.push(e[t[n]].intersection);switch(this.measurement.measurementType){case r.MeasurementTypes.MEASUREMENT_DISTANCE:var n=e[1].intersection,a=e[2].intersection;n&&a&&this.renderDistanceMeasurementFromPoints(n,a);break;case r.MeasurementTypes.MEASUREMENT_ANGLE:this.renderAngleMeasurementFromPoints(i);break;case r.MeasurementTypes.MEASUREMENT_AREA:this.renderAreaMeasurementFromPoints(i);break;case r.MeasurementTypes.MEASUREMENT_ARC:{const t=e[1].intersection,i=e[2].intersection,n=e[1].circularArcCenter,a=e[1].circularArcRadius;this.renderArcMeasurementFromPoints(t,i,n,a);break}case r.MeasurementTypes.MEASUREMENT_LOCATION:this.renderLocationMeasurementFromPoints(i);break;case r.MeasurementTypes.MEASUREMENT_CALLOUT:this.renderCalloutMeasurementFromPoints(i)}},l.renderRubberband=function(e){switch(this.measurement.measurementType){case r.MeasurementTypes.MEASUREMENT_DISTANCE:var t=e[1],i=e[2],n=r.getSnapResultPosition(t,this.viewer),a=r.getSnapResultPosition(i,this.viewer);n&&a&&this.renderDistanceMeasurement(n,a);break;case r.MeasurementTypes.MEASUREMENT_ANGLE:this.renderAngleMeasurement(e);break;case r.MeasurementTypes.MEASUREMENT_AREA:this.renderAreaMeasurement(e);break;case r.MeasurementTypes.MEASUREMENT_ARC:{let t=e[1],i=e[2];t&&i&&this.renderArcMeasurement(t,i);break}case r.MeasurementTypes.MEASUREMENT_LOCATION:this.renderLocationMeasurement(e);break;case r.MeasurementTypes.MEASUREMENT_CALLOUT:this.renderCalloutMeasurement(e)}},l.initMouseEvent=function(e,t){var i=s.isSafari();this.onMouseClickBinded=function(e){(i||"mouse"===e.pointerType)&&(e.canvasX=e.clientX,e.canvasY=e.clientY,this.tool.editEndpoint(e,t,this.measurement.id))}.bind(this),e.addEventListener(i?"mousedown":"pointerdown",this.onMouseClickBinded)};var h=Autodesk.Viewing,d=Autodesk.Viewing.MeasureCommon;const u="009bea",A=new THREE.Color;function p(e){return A.set(e>>>8).getHexString()}function m(e,t,i){o.call(this,e,t,i),this.measureTool=i,this.endpoints=[],this.lines={xyz:{axis:!1,material:this._createLineMaterial(u),className:"adsk-icon-axis-delta-xyz measure-label-axis-delta measure-label-axis-xyz"},x:{axis:!0,material:this._createLineMaterial("F12C2C"),className:"adsk-icon-axis-delta-x measure-label-axis-delta measure-label-axis-x",iconText:"X"},y:{axis:!0,material:this._createLineMaterial("0BB80B"),className:"adsk-icon-axis-delta-y measure-label-axis-delta measure-label-axis-y",iconText:"Y"},z:{axis:!0,material:this._createLineMaterial("2C2CF1"),className:"adsk-icon-axis-delta-z measure-label-axis-delta measure-label-axis-z",iconText:"Z"}},this.applyLineColor(this.lines.xyz.material),this.segments=[],this.dashedLines=[],this.simple=!1,this.angleLabel={},this.areaLabel={},this.arcLabel={},this.locationLabel={},this.calloutLabel={},this.labels=[],this.isLeaflet=!1,this.topologyStatus=b,this.tmpVector=new THREE.Vector3,this.surfaceColor=new THREE.MeshBasicMaterial({color:parseInt(u,16),opacity:.15,transparent:!0,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.applyLineColor(this.surfaceColor)}m.prototype=Object.create(o.prototype),m.prototype.constructor=m;var g=m.prototype,b=0;function C(e){return e.classList.contains("visible")}function v(e,t){return e.right>=t.left&&e.right<=t.right}function f(e,t){return e.left>=t.left&&e.left<=t.right}function w(e,t){return e.left<=t.left&&e.right>=t.right}function y(e,t,i){e.style.left=parseInt(e.style.left,10)+(i.right-t.left)+"px"}function x(e,t,i){e.style.top=parseInt(e.style.top,10)+(i.bottom-t.top)+"px"}function E(e,t){if(e){var i=e.querySelector(".measure-length-text");i&&(i.textContent=t)}}function B(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/\n/g,"<br>")}function k(e){if("string"==typeof e)return B(e);let t="",i=e.fontSize;void 0!==e.fontSize&&10!==e.fontSize?(i="font-size: ".concat(0|10*i,"%;"),t=" "):i="";let n=e.bold;n=void 0!==n?"".concat(t,"font-weight: ").concat(n?"bold":"normal",";"):"";const a=B(e.text);return n||i?'<span style="'.concat(i).concat(n,'">').concat(a,"</span>"):a}function M(e,t){if(e){var i=e.querySelector(".measure-delta-text");i&&(i.textContent=t)}}function T(e,t,i){if(e){var n=e.querySelector(".measure-fetching-topology");n&&(n.style.display=t&&1===i?"inline-block":"none")}}g.init=function(){var e;switch(this.isLeaflet=this.viewer.model.isLeaflet(),this.onSelectionAreaClickedBinded=this.onSelectionAreaClicked.bind(this),this.lines.xyz.label||((e=this.lines.xyz.label=this.createMeasurementLabel()).addEventListener("mousewheel",this.viewer.toolController.mousewheel),e.addEventListener("click",this.onSelectionAreaClickedBinded),this.viewer.container.appendChild(e)),this.topologyStatus){case 1:this.setFetchingTopology();break;case 2:this.setTopologyAvailable();break;case b:this.setNoTopology()}this.showMeasureResult=!1,this.onCameraChangeBinded=this.onCameraChange.bind(this),this.viewer.addEventListener(h.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.handleButtonUpBinded=this.measureTool.handleButtonUp.bind(this.measureTool),this.addWindowEventListener("mouseup",this.handleButtonUpBinded)},g._hexToCorrectedColor=function(e){return A.set(parseInt(e,16)),this.viewer.impl.is2d||A.multiply(A),A},g._createLineMaterial=function(e){const t=this._hexToCorrectedColor(e);return new THREE.MeshBasicMaterial({color:t.getHex(),depthTest:!1,depthWrite:!1,side:THREE.DoubleSide})},g.createEndpoint=function(e){if(this.endpoints[e]={},2!==e||this.measurement.measurementType!==d.MeasurementTypes.MEASUREMENT_LOCATION&&this.measurement.measurementType!==d.MeasurementTypes.MEASUREMENT_CALLOUT){var t=this.endpoints[e].label=this.createSnapResultLabel(e);this.viewer.container.appendChild(t)}},g.applyLineColor=function(e){if(!e)return;const t=this.measurement.options&&this.measurement.options.format&&this.measurement.options.format.TEXTCOLOR&&"true"===this.measurement.options.format.TEXTCOLOR.Enabled&&this.measurement.options.format.FILLCOLOR&&"true"===this.measurement.options.format.FILLCOLOR.Enabled&&this.measurement.options.format.LINECOLOR&&"true"===this.measurement.options.format.LINECOLOR.Enabled?p(this.measurement.options.format.LINECOLOR.UIntValue):u,i=this._hexToCorrectedColor(t);e.color.set(i)},g.applyLabelColors=function(e){if(!e)return;const t=this.measurement.options&&this.measurement.options.format&&this.measurement.options.format.TEXTCOLOR&&"true"===this.measurement.options.format.TEXTCOLOR.Enabled&&this.measurement.options.format.FILLCOLOR&&"true"===this.measurement.options.format.FILLCOLOR.Enabled&&this.measurement.options.format.LINECOLOR&&"true"===this.measurement.options.format.LINECOLOR.Enabled,i="#".concat(t?p(this.measurement.options.format.TEXTCOLOR.UIntValue):u),n=t?"#".concat(p(this.measurement.options.format.FILLCOLOR.UIntValue)):"#f4f4f4";e.style.color=i,e.style.backgroundColor=n},g.updateLabelsPosition=function(){var e,t,i,n;const a=(n,a)=>{t=d.project(e,this.viewer),i.style.top=t.y-a+"px",i.style.left=t.x-n+"px",i.point=e,this.applyLabelColors(i),this.labels.push(i)};for(n in this.endpoints)Object.prototype.hasOwnProperty.call(this.endpoints,n)&&(i=this.endpoints[n].label,e=this.endpoints[n].position,i&&e&&C(i)&&(t=d.project(e,this.viewer),a(i.getBoundingClientRect().width/2,i.getBoundingClientRect().height/2)));for(var s in this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,s)){var r=this.lines[s];if((i=r.label)&&r.p1&&r.p2&&C(i)){if(r.line.visible=r.visible,e={x:(r.p1.x+r.p2.x)/2,y:(r.p1.y+r.p2.y)/2,z:(r.p1.z+r.p2.z)/2},t=d.project(e,this.viewer),i.style.top=t.y-Math.floor(i.clientHeight/2)+"px",i.style.left=t.x-Math.floor(i.clientWidth/2)+"px",this.viewer.model&&this.viewer.model.is2d()){var o=r===this.lines.xyz?0:i.clientHeight,l=d.project(r.p1,this.viewer),c=d.project(r.p2,this.viewer);if(i.clientWidth>=l.distanceTo(c)-this.endpoints[1].label.clientWidth){if(r!==this.lines.xyz){for(s in this.lines.x.line.visible=!1,this.lines.y.line.visible=!1,this.viewer.impl.invalidate(!1,!1,!0),this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,s)&&this.lines[s]!==this.lines.xyz){var h=this.lines[s].label;h&&(h.style.opacity=0)}break}o=i.clientHeight}if(r!==this.lines.xyz){var u=new THREE.Vector3,A=new THREE.Vector3;u.subVectors(this.lines.xyz.p1,this.lines.xyz.p2).normalize(),A.subVectors(r.p1,r.p2).normalize(),u.cross(this.viewer.navigation.getEyeVector()).normalize().dot(A)<0&&(o=-o)}this.alignLabelWithLine(i,r.p1,r.p2,o,this.viewer)}i.style.opacity=1,i.point=e,this.applyLabelColors(i),this.labels.push(i)}}if(this.angleLabel&&(i=this.angleLabel.label)&&this.angleLabel.p1&&this.angleLabel.p2&&C(i)&&(e={x:(this.angleLabel.p1.x+this.angleLabel.p2.x)/2,y:(this.angleLabel.p1.y+this.angleLabel.p2.y)/2,z:(this.angleLabel.p1.z+this.angleLabel.p2.z)/2},t=d.project(e,this.viewer,5),a(Math.floor(i.clientWidth/2),Math.floor(i.clientHeight/2))),this.arcLabel&&(o=0,(i=this.arcLabel.label)&&this.arcLabel.p1&&this.arcLabel.p2&&C(i))){e={x:(this.arcLabel.p1.x+this.arcLabel.p2.x)/2,y:(this.arcLabel.p1.y+this.arcLabel.p2.y)/2,z:(this.arcLabel.p1.z+this.arcLabel.p2.z)/2},t=d.project(e,this.viewer,i.clientHeight),a(Math.floor(i.clientWidth/2),Math.floor(i.clientHeight/2));let n=d.project(this.arcLabel.point1Relative,this.viewer),s=d.project(this.arcLabel.point2Relative,this.viewer);if(i.clientWidth>=n.distanceTo(s)-this.endpoints[1].label.clientWidth){var p=d.project(this.arcLabel.midPointRelative,this.viewer),m=d.project(new THREE.Vector3,this.viewer);o=p.y>m.y?i.clientHeight:-i.clientHeight}this.alignLabelWithLine(i,this.arcLabel.point1Relative,this.arcLabel.point2Relative,o,this.viewer)}if(this.locationLabel&&(i=this.locationLabel.label)&&this.locationLabel.p&&C(i)&&(t=d.project(this.locationLabel.p,this.viewer),a(Math.floor(i.clientWidth/2),Math.floor(i.clientHeight/2))),this.calloutLabel&&(i=this.calloutLabel.label)&&this.calloutLabel.p&&C(i)&&(t=d.project(this.calloutLabel.p,this.viewer),a(Math.floor(i.clientWidth/2),Math.floor(i.clientHeight/2))),this.areaLabel&&(i=this.areaLabel.label)&&this.areaLabel.p1&&this.areaLabel.p2&&C(i)&&(e={x:(this.areaLabel.p1.x+this.areaLabel.p2.x)/2,y:(this.areaLabel.p1.y+this.areaLabel.p2.y)/2,z:(this.areaLabel.p1.z+this.areaLabel.p2.z)/2},t=d.project(e,this.viewer),a(Math.floor(i.clientWidth/2),Math.floor(i.clientHeight/2))),this.viewer.model&&!this.viewer.model.is2d()){var g,b,v=!1;this.labelsStacked=!1;var f=[];for(b=0;b<this.labels.length;b++)f.push({left:this.labels[b].style.left,top:this.labels[b].style.top});for(b=0;b<this.labels.length&&!v;b++)g=this.labels[b],v=this.labelsOverlapDetection(g,this.labels);if(v){for(b=0;b<this.labels.length;b++)this.labels[b].style.left=f[b].left,this.labels[b].style.top=f[b].top;for(this.stackLabels(this.labels),b=0;b<this.labels.length;b++)g=this.labels[b],this.labelsOverlapDetection(g,this.labels)}}this.labels=[]},g.labelsOverlapDetection=function(e,t){for(var i,n,a,s,r,o=!1,l=0;l<t.length;l++){var c=t[l],h=!1;if(e!==c){var d=e.getBoundingClientRect(),u=c.getBoundingClientRect();if(r=d,(s=u).top<r.bottom&&s.bottom>r.top&&(v(u,d)?(n=u,a=d,(i=c).style.left=parseInt(i.style.left,10)-(n.right-a.left)+"px",h=!0):f(u,d)?(y(c,u,d),h=!0):w(u,d)&&(x(c,u,d),h=!0),h)){var A=t.slice(0);A.splice(A.indexOf(e),1),this.labelsOverlapDetection(c,A),c.causeStacking&&e.causeStacking&&(o=!0),c.causeStacking&&this.labelsStacked&&this.stackLabels(this.labels)}}}return o},g.stackLabels=function(e){for(var t=this.lines.xyz.label,i=1;i<e.length;i++){if(e[i].causeStacking){e[i].style.left=t.style.left;var n=e[i-1].getBoundingClientRect(),a=e[i-1]==t?4:0,s=e[i]===t?t.style.top:e[i-1].style.top;e[i].style.top=parseInt(s,10)+n.height+a+"px"}e[i].style.transform=""}this.labelsStacked=!0},g.drawXYZLine=function(e){var t=this,i=e.p1,n=e.p2;if(!i||!n)return;e.line=this.drawLineSegment(i,n,4,e.material);const a=[new THREE.Vector3,new THREE.Vector3],s=e.geometry=new THREE.BufferGeometry;var r,o=d.nearestPointInPointToSegment(t.viewer.navigation.getPosition(),i,n),l=t.setScale(o);const c=this.measurement.options&&this.measurement.options.dimensionOffset;if(c){const t=new THREE.Vector3(c[0].x,c[0].y,c[0].z),a=new THREE.Vector3(c[1].x,c[1].y,c[1].z);r=(new THREE.Vector3).subVectors(i,t),this.segments.push({line:this.drawLineSegment(t,i,4,e.material),p1:t,p2:i}),this.segments.push({line:this.drawLineSegment(n,a,4,e.material),p1:n,p2:a}),i=t,n=a}else r=(new THREE.Vector3).subVectors(n,i);var h=r.cross(t.viewer.navigation.getEyeVector()).normalize();e.visible=!0,this.segments.push(e);const u=this.measurement.options&&this.measurement.options.dashedLeader;if(u){const t=new THREE.Vector3(u[0].x,u[0].y,u[0].z),i=new THREE.Vector3(u[1].x,u[1].y,u[1].z);this.drawLineSegment(t,i,4,e.material,!0)}function A(r){a[0].addVectors(r,h.clone().multiplyScalar(2*l)),a[1].subVectors(r,h.clone().multiplyScalar(2*l)),s.setFromPoints(a);var o=t.drawLineAsCylinder(s,e.material,3,t.overlayName);t.setCylinderScale(o,i,n),o.visible=!0,e.tips.push(o)}t.showMeasureResult&&(e.tips=[],A(i),A(n))},g.redrawDashedLine=function(e){if(e.p1&&e.p2){this.viewer.impl.removeMultipleOverlays(this.overlayName,e.line);var t=this.setScale(e.p2),i=2*t,n=1*t;return e.line=this.drawDashedLine(e.p2,e.p1,i,n,this.lines.xyz.material,3,this.overlayName),e.line}},g.redrawDashedLines=function(){this.dashedLines.forEach(this.redrawDashedLine.bind(this))},g.drawLineSegment=function(e,t,i,n,a){var s;if(a){const i={};i.p1=e,i.p2=t,this.dashedLines.push(i),s=this.redrawDashedLine(i)}else{const a=(new THREE.BufferGeometry).setFromPoints([e,t]);s=this.drawLineAsCylinder(a,n,i,this.overlayName),this.setCylinderScale(s,e,t)}return s.visible=!0,s},g.drawSurface=function(e){let t=new Autodesk.Viewing.Extensions.CompGeom.ContourSet;if(t.addContour(e),t.triangulate(),t.triangulationFailed)return!1;let i=t.toPolygonMesh();var n=new THREE.Mesh(i,this.surfaceColor);return this.applyLineColor(this.surfaceColor),this.viewer.impl.addOverlay(this.overlayName,n),!0},g.drawSegmentAndPush=function(e,t,i){if(e&&t){var n=this.drawLineSegment(e,t,4,this.lines.xyz.material,i);if(!i){var a={line:n,p1:e,p2:t};this.segments.push(a)}}},g.renderAreaMeasurementFromPoints=function(e){let t,i,n;const a=[];this.applyLineColor(this.lines.xyz.material),this.applyLineColor(this.surfaceColor);const s=Object.keys(e);for(var r=0;r<s.length-1;r++){const o=parseFloat(s[r]),l=e[o],c=e[o+1];0===r&&(n=new THREE.Vector3(l.x,l.y,l.z)),t=new THREE.Vector3(l.x,l.y,l.z),i=new THREE.Vector3(c.x,c.y,c.z),this.drawSegmentAndPush(t,i),a.push(t)}s.length>2&&(this.drawSegmentAndPush(n,i,!this.measurement.closedArea),d.isEqualVectors(n,i,d.EPSILON)||a.push(i),0!==this.measurement.area&&this.drawSurface(a)&&(this.showAreaLabel(c(a)),this.updateArea()))},g.renderAreaMeasurement=function(e){for(var t,i,n=this.measurement.countPicks(),a=[],s=1;s<n;s++)t=d.getSnapResultPosition(e[s],this.viewer),i=d.getSnapResultPosition(e[s+1],this.viewer),this.drawSegmentAndPush(t,i),a.push(t);n>2&&(t=d.getSnapResultPosition(e[1],this.viewer),this.drawSegmentAndPush(t,i,!this.measurement.closedArea),d.isEqualVectors(t,i,d.EPSILON)||a.push(i),0!==this.measurement.area&&this.drawSurface(a)&&(this.showAreaLabel(c(a)),this.updateArea()))},g.clearAngleMeshes=function(){this.angleArc&&(this.viewer.impl.removeOverlay(this.overlayName,this.angleArc),this.angleArc=null),this.angleOutline.length>0&&(this.viewer.impl.removeMultipleOverlays(this.overlayName,this.angleOutline),this.angleOutline.length=0)},g.drawAngle=function(e,t,i,n,a,s,r){var o=.001;this.materialAngle||(this.materialAngle=new THREE.MeshPhongMaterial({color:10066329,opacity:.5,transparent:!0,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.materialAngleOutline=new THREE.MeshBasicMaterial({color:16750848,depthTest:!1,depthWrite:!1})),this.applyLineColor(this.lines.xyz.material),this.applyLineColor(this.surfaceColor),d.createCommonOverlay(this.viewer,this.overlayName),this.clearAngleMeshes();var l=r||Math.min(e.distanceTo(t),e.distanceTo(i))/4,c=new THREE.CircleBufferGeometry(l,100,0,a*Math.PI/180),h=new THREE.Mesh(c,this.surfaceColor);this.applyLineColor(this.surfaceColor);const u=h.geometry.getAttribute("position");{const e=Array.from(u.array),t=e.slice(0,u.itemSize);u.array=Float32Array.from(e.concat(t)),u.count++,u.needsUpdate=!0}h.position.set(e.x,e.y,e.z);var A=h.position.clone();A.add(n),h.lookAt(A),h.updateMatrixWorld();let p=(new THREE.Vector3).fromBufferAttribute(u,1),m=(new THREE.Vector3).fromBufferAttribute(u,u.count-2);p.applyMatrix4(h.matrixWorld),m.applyMatrix4(h.matrixWorld);var g=new THREE.Vector3,b=new THREE.Vector3,C=new THREE.Vector3,v=new THREE.Vector3;g.subVectors(p,e),b.subVectors(m,e),C.subVectors(t,e),v.subVectors(i,e);var f,w=g.angleTo(C),y=g.angleTo(v),x=b.angleTo(C),E=b.angleTo(v);f=(w<=o&&w>=-.001||y<=o&&y>=-.001)&&(x<=o&&x>=-.001||E<=o&&E>=-.001)?0:(w<=Math.PI+o&&w>=Math.PI-o||y<=Math.PI+o&&y>=Math.PI-o)&&(x<=Math.PI+o&&x>=Math.PI-o||E<=Math.PI+o&&E>=Math.PI-o)?Math.PI:w<=x+o&&w>=x-o||w<=E+o&&w>=E-o?w:y;var B=new THREE.Matrix4;B.makeRotationAxis(n,f),B.multiply(h.matrix),h.matrix=B,h.rotation.setFromRotationMatrix(h.matrix),h.updateMatrixWorld(),p=(new THREE.Vector3).fromBufferAttribute(u,1),m=(new THREE.Vector3).fromBufferAttribute(u,u.count-2),p.applyMatrix4(h.matrixWorld),m.applyMatrix4(h.matrixWorld),g.subVectors(p,e),b.subVectors(m,e),w=g.angleTo(C),y=g.angleTo(v),x=b.angleTo(C),E=b.angleTo(v),w>=o&&y>=o&&((B=new THREE.Matrix4).makeRotationAxis(n,2*-f),B.multiply(h.matrix),h.matrix=B,h.rotation.setFromRotationMatrix(h.matrix));const k=new THREE.CircleBufferGeometry(l,100,0,a*Math.PI/180);{const e=k.getAttribute("position");e.array=e.array.slice(e.itemSize),e.count--,e.needsUpdate=!0}if(h.updateMatrixWorld(),k.applyMatrix4(h.matrixWorld),this.angleOutline=this.drawEdgeAsCylinder(k,this.lines.xyz.material,2,0,this.getNewCylinderGeometry()),this.angleArc=h,this.viewer.impl.addOverlay(this.overlayName,this.angleArc),this.viewer.impl.addMultipleOverlays(this.overlayName,this.angleOutline),s.fromBufferAttribute(u,Math.round(u.count/2)-1),s.applyMatrix4(h.matrixWorld),!r){var M=new THREE.Vector3;M.subVectors(s,e).normalize(),M.multiplyScalar(l/2),s.add(M)}},g.createArcLabel=function(){var e=this.createMeasurementLabel();return this.viewer.container.appendChild(e),e.addEventListener("mousewheel",this.viewer.toolController.mousewheel),e.addEventListener("click",this.onSelectionAreaClickedBinded),e},g.clearArcMeshes=function(){this.arcOutline&&this.arcOutline.length>0&&(this.viewer.impl.removeMultipleOverlays(this.overlayName,this.arcOutline),this.arcOutline.length=0)},g.drawCircularArc=function(e,t,i,n){let a=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];var s=100,r=new THREE.BufferGeometry;const o=[new THREE.Vector3,new THREE.Vector3];var l=d.nearestPointInPointToSegment(this.viewer.navigation.getPosition(),e,t),c=this.setScale(l),h=new THREE.Vector3;h.subVectors(e,i);var u=Math.atan2(h.y,h.x),A=new THREE.Vector3;A.subVectors(t,i);var p=Math.atan2(A.y,A.x);this.arcLabel.point1Relative=h.clone(),this.arcLabel.point2Relative=A.clone().normalize().multiplyScalar(n);var m=p-u;m>Math.PI?m-=2*Math.PI:m<-Math.PI&&(m+=2*Math.PI);var g=new THREE.CircleBufferGeometry(n,s,u,m),b=new THREE.Mesh(g,this.lines.xyz.material);b.position.set(i.x,i.y,i.z);{const e=g.getAttribute("position");e.array=e.array.slice(e.itemSize),e.count--,e.needsUpdate=!0}function C(e,t){o[0].addVectors(e,t.clone().multiplyScalar(2*c)),o[1].subVectors(e,t.clone().multiplyScalar(2*c)),r.setFromPoints(o);var i=this.drawLineAsCylinder(r,this.lines.xyz.material,3,this.overlayName);this.arcTip.push(i)}b.updateMatrixWorld(),g.applyMatrix4(b.matrixWorld),d.createCommonOverlay(this.viewer,this.overlayName),this.clearArcMeshes(),this.arcOutline=this.drawEdgeAsCylinder(g,this.lines.xyz.material,4,0,this.getNewCylinderGeometry()),this.viewer.impl.addMultipleOverlays(this.overlayName,this.arcOutline),a&&(C.call(this,e,h.normalize()),C.call(this,t,A.normalize()));var v=new THREE.Vector3,f=u+.5*m;v.x=Math.cos(f)*n,v.y=Math.sin(f)*n,this.arcLabel.midPointRelative=v.clone(),v.applyMatrix4(b.matrixWorld),this.showArcLabel(v)},g.renderAngleMeasurementFromPoints=function(e){var t=[];const i=Object.keys(e);for(var n=0;n<i.length;n++){const a=e[parseFloat(i[n])];t.push(new THREE.Vector3(a.x,a.y,a.z))}if(3===t.length){let e;const i=this.measurement.options;if(i&&i.offset){const n=new THREE.Vector3(i.offset.x,i.offset.y,i.offset.z),a=n.clone().add(t[1]);n.add(t[0]),this.drawSegmentAndPush(n,a),this.drawSegmentAndPush(t[1],t[2]),this.drawSegmentAndPush(t[0],n,!0),this.drawSegmentAndPush(t[1],a,!0),e=a.clone().sub(n).length()}else this.drawSegmentAndPush(t[0],t[1]),this.drawSegmentAndPush(t[1],t[2]);if(this.measurement.angle){var a=new THREE.Vector3,s=new THREE.Vector3,r=new THREE.Vector3;s.subVectors(t[0],t[1]),r.subVectors(t[1],t[2]),a.crossVectors(s,r),a.normalize();var o=new THREE.Vector3;this.drawAngle(t[1],t[0],t[2],a,this.measurement.angle,o,e),this.showAngleLabel(o),this.updateAngle()}}},g.renderAngleMeasurement=function(e){var t,i,n=this.measurement.countPicks(),a=[];this.applyLineColor(this.lines.xyz.material),this.applyLineColor(this.surfaceColor);for(var s=1;s<n;s++)t=d.getSnapResultPosition(e[s],this.viewer),i=d.getSnapResultPosition(e[s+1],this.viewer),this.drawSegmentAndPush(t,i),t&&a.push(t);if(i&&a.push(i),3===a.length&&this.measurement.angle){var r=new THREE.Vector3,o=new THREE.Vector3,l=new THREE.Vector3;o.subVectors(a[0],a[1]),l.subVectors(a[1],a[2]),r.crossVectors(o,l),r.normalize();var c=new THREE.Vector3;this.drawAngle(a[1],a[0],a[2],r,this.measurement.angle,c),this.showAngleLabel(c),this.updateAngle()}},g.renderArcMeasurementFromPoints=function(e,t,i,n){e&&t&&i&&n&&(this.drawCircularArc(e,t,i,n),this.updateArcLength())},g.renderArcMeasurement=function(e,t){if(!(e&&t&&e.circularArcCenter&&e.circularArcRadius))return;var i=e.circularArcRadius,n=e.circularArcCenter,a=d.getSnapResultPosition(e),s=d.getSnapResultPosition(t);const r=this.showMeasureResult&&d.isEqualVectors(e.circularArcCenter,t.circularArcCenter,0)&&e.circularArcRadius===t.circularArcRadius;this.drawCircularArc(a,s,n,i,r),this.updateArcLength()},g.renderLocationMeasurementFromPoints=function(e){var t=e[1],i=e[2];t&&i&&(this.applyLineColor(this.lines.xyz.material),this.drawSegmentAndPush(t,i),this.showLocationLabel(i),this.updateLocation())},g.renderLocationMeasurement=function(e){var t=e[1]&&e[1].intersection,i=e[2]&&e[2].intersection;t&&i&&(this.applyLineColor(this.lines.xyz.material),this.drawSegmentAndPush(t,i),this.showLocationLabel(i),this.updateLocation())},g.renderCalloutMeasurementFromPoints=function(e){var t=e[1],i=e[2];t&&i&&(this.applyLineColor(this.lines.xyz.material),this.drawSegmentAndPush(t,i),this.showCalloutLabel(i),this.updateCallout())},g.renderCalloutMeasurement=function(e){var t=e[1]&&e[1].intersection,i=e[2]&&e[2].intersection;t&&i&&(this.applyLineColor(this.lines.xyz.material),this.drawSegmentAndPush(t,i),this.showCalloutLabel(i),this.updateCallout())},g.createDistanceLabel=function(e){var t=e.label=this.createMeasurementLabel();!function(e,t){var i=e.querySelector(".measure-length-text");i&&(i.style.display=t?"":"none")}(t,e===this.lines.xyz);const i=this.getDocument();if(e.axis){t.className=e.className;var n=i.createElement("div");n.className="measure-label-axis-icon "+e.iconText,n.innerText=e.iconText,t.insertBefore(n,t.firstChild),h.isMobileDevice()||d.safeToggle(t,"enableTransition",!0)}return this.viewer.container.appendChild(t),t},g.updateLine=function(e,t,i,n,a,s,r,o){this.applyLineColor(this.lines.xyz.material);var l,c=e.line,h=e.label,u=new THREE.Vector3(t,i,n),A=new THREE.Vector3(a,s,r);if((e===this.lines.x&&A.x>u.x||e===this.lines.y&&A.y>u.y||e===this.lines.z&&A.z>u.z)&&(l=u.clone(),u=A.clone(),A=l.clone()),e.line=null,h?this.hideLabel(h):h=this.createDistanceLabel(e),(this.isLeaflet&&e!==this.lines.z||u.distanceTo(A)>=d.EPSILON)&&o)if(e.p1=u,e.p2=A,e===this.lines.xyz)this.drawXYZLine(e),this.showLabel(h),this.updateDistance();else{c=e.line=this.drawLineSegment(u,A,2,e.material);var p=!this.simple&&this.showMeasureResult;c.visible=p,e.visible=p,p?this.showLabel(h):this.hideLabel(h)}},g.renderDistanceMeasurementFromPoints=function(e,t){this.updateLine(this.lines.xyz,e.x,e.y,e.z,t.x,t.y,t.z,!0);var i=this.viewer.navigation.getAlignedUpVector(),n=Math.abs(i.x),a=Math.abs(i.y),s=Math.abs(i.z),r=!1;s>n&&s>a?(this.updateLine(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,r),this.updateLine(this.lines.y,t.x,e.y,e.z,t.x,t.y,e.z,r),this.updateLine(this.lines.z,t.x,t.y,e.z,t.x,t.y,t.z,r)):a>n&&a>s?(this.updateLine(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,r),this.updateLine(this.lines.z,t.x,e.y,e.z,t.x,e.y,t.z,r),this.updateLine(this.lines.y,t.x,e.y,t.z,t.x,t.y,t.z,r)):(this.updateLine(this.lines.y,e.x,e.y,e.z,e.x,t.y,e.z,r),this.updateLine(this.lines.z,e.x,t.y,e.z,e.x,t.y,t.z,r),this.updateLine(this.lines.x,e.x,t.y,t.z,t.x,t.y,t.z,r))},g.renderDistanceMeasurement=function(e,t){var i=this;this.updateLine(this.lines.xyz,e.x,e.y,e.z,t.x,t.y,t.z,!0);var n=this.viewer.navigation.getAlignedUpVector(),a=Math.abs(n.x),s=Math.abs(n.y),r=Math.abs(n.z),o=function(e,t){return i.tmpVector.subVectors(e,t),i.tmpVector.normalize(),!d.isParallel(i.tmpVector,i.xAxis)&&!d.isParallel(i.tmpVector,i.yAxis)&&!d.isParallel(i.tmpVector,i.zAxis)}(e,t);r>a&&r>s?(this.updateLine(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,o),this.updateLine(this.lines.y,t.x,e.y,e.z,t.x,t.y,e.z,o),this.updateLine(this.lines.z,t.x,t.y,e.z,t.x,t.y,t.z,o)):s>a&&s>r?(this.updateLine(this.lines.x,e.x,e.y,e.z,t.x,e.y,e.z,o),this.updateLine(this.lines.z,t.x,e.y,e.z,t.x,e.y,t.z,o),this.updateLine(this.lines.y,t.x,e.y,t.z,t.x,t.y,t.z,o)):(this.updateLine(this.lines.y,e.x,e.y,e.z,e.x,t.y,e.z,o),this.updateLine(this.lines.z,e.x,t.y,e.z,e.x,t.y,t.z,o),this.updateLine(this.lines.x,e.x,t.y,t.z,t.x,t.y,t.z,o))},g.updateResults=function(){this.updateDistance(),this.updateAngle(),this.updateArea(),this.updateArcLength(),setTimeout(function(){this.viewer.impl&&this.updateLabelsPosition()}.bind(this),0)},g.updateDistance=function(){function e(e,t){e&&(e.style.width=t)}function t(e){return e?e.clientWidth:0}Object.keys(this.lines).forEach(function(t){e(this.lines[t].label,"")}.bind(this)),M(this.lines.x.label,"~ "+this.measureTool.getDistanceX(this.measurement)),M(this.lines.y.label,"~ "+this.measureTool.getDistanceY(this.measurement)),M(this.lines.z.label,"~ "+this.measureTool.getDistanceZ(this.measurement)),E(this.lines.xyz.label,"~ "+this.measureTool.getDistanceXYZ(this.measurement)),this.viewer.model&&this.viewer.model.is3d()&&setTimeout(function(){var i=Math.max(t(this.lines.x.label),t(this.lines.y.label),t(this.lines.z.label),t(this.lines.xyz.label));Object.keys(this.lines).forEach(function(t){e(this.lines[t].label,i+"px")}.bind(this))}.bind(this),0)},g.updateAngle=function(){E(this.angleLabel.label,"~ "+this.measureTool.getAngle(this.measurement))},g.updateLocation=function(){E(this.locationLabel.label,("~ "+this.measureTool.getLocation(this.measurement)).split("\n").join("\n~ "))},g.updateCallout=function(){!function(e,t){if("string"==typeof t)return void E(e,t);var i=e.querySelector(".measure-length-text");i&&(Array.isArray(t)?i.innerHTML=t.map(k).join(""):i.innerHTML=k(t))}(this.calloutLabel.label,this.measureTool.getCallout(this.measurement))},g.updateArea=function(){E(this.areaLabel.label,"~ "+this.measureTool.getArea(this.measurement))},g.updateArcLength=function(){E(this.arcLabel.label,"~ "+this.measureTool.getArc(this.measurement))},g.setSimple=function(e){if(this.simple!=e){this.simple=e;var t=!e;this.setLineVisible(this.lines.x,t),this.setLineVisible(this.lines.y,t),this.setLineVisible(this.lines.z,t),this.updateLabelsPosition(),this.viewer.impl.invalidate(!1,!1,!0)}},g.setLineVisible=function(e,t){e.line&&(e.line.visible=t,e.visible=t,e.label&&(t?this.showLabel(e.label):(this.hideLabel(e.label),e.label.style.opacity=0)))},g.enableLabelsTouchEvents=function(e){var t=e?"all":"none";this.lines.xyz.label&&(this.lines.xyz.label.style.pointerEvents=t),this.angleLabel.label&&(this.angleLabel.label.style.pointerEvents=t),this.areaLabel.label&&(this.areaLabel.label.style.pointerEvents=t),this.arcLabel.label&&(this.arcLabel.label.style.pointerEvents=t)},g.setLabelsZIndex=function(e){for(var t in this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,t)){var i=this.lines[t];i.label&&(i.label.style.zIndex=e)}for(t in this.angleLabel&&this.angleLabel.label&&(this.angleLabel.label.style.zIndex=e),this.locationLabel&&this.locationLabel.label&&(this.locationLabel.label.style.zIndex=e),this.calloutLabel&&this.calloutLabel.label&&(this.calloutLabel.label.style.zIndex=e),this.areaLabel&&this.areaLabel.label&&(this.areaLabel.label.style.zIndex=e),this.arcLabel&&this.arcLabel.label&&(this.arcLabel.label.style.zIndex=e),this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,t)){var n=this.endpoints[t];n.label&&(n.label.style.zIndex=e-1)}},g.focusLabels=function(){this.setLabelsZIndex(3)},g.unfocusLabels=function(){this.setLabelsZIndex(2)},g.clear=function(){var e;for(e in this.endpoints)if(Object.prototype.hasOwnProperty.call(this.endpoints,e)){var t=this.endpoints[e];t.label&&this.hideLabel(t.label)}for(e in this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,e)){var i=this.lines[e];i.line&&(i.line.visible=!1,i.visible=!1,i.tips&&i.tips.forEach((function(e){e.visible=!1}))),i.label&&(this.hideLabel(i.label),i.label.style.opacity=0,i.label.style.zIndex=2)}this.angleLabel&&this.angleLabel.label&&this.hideLabel(this.angleLabel.label),this.locationLabel&&this.locationLabel.label&&this.hideLabel(this.locationLabel.label),this.calloutLabel&&this.calloutLabel.label&&this.hideLabel(this.calloutLabel.label),this.areaLabel&&this.areaLabel.label&&this.hideLabel(this.areaLabel.label),this.arcLabel&&this.arcLabel.label&&this.hideLabel(this.arcLabel.label),this.clearSelectionAreas(),this.segments=[],this.dashedLines=[],this.viewer.impl.clearOverlay(this.overlayName),d.createCommonOverlay(this.viewer,this.overlayName)},g.hideClick=function(e){for(var t in o.prototype.hideClick.call(this,e),this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,t)){var i=this.lines[t];i.line&&(i.line.visible=!1,i.visible=!1,i.tips&&i.tips.forEach((function(e){e.visible=!1}))),i.label&&(this.hideLabel(i.label),i.label.style.opacity=0)}this.angleLabel&&this.angleLabel.label&&this.hideLabel(this.angleLabel.label),this.areaLabel&&this.areaLabel.label&&this.hideLabel(this.areaLabel.label),this.arcLabel&&this.arcLabel.label&&this.hideLabel(this.arcLabel.label),this.enableSelectionAreas(i.selectionArea,!1)},g.destroy=function(){var e;for(e in o.prototype.destroy.call(this),this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,e)){var t=this.lines[e];t.line&&(this.viewer.impl.clearOverlay(self.overlayName),t.material=t.line=t.geometry=null),t.label&&("xyz"===e&&(t.label.addEventListener("mousewheel",this.viewer.toolController.mousewheel),t.label.removeEventListener("click",this.onSelectionAreaClickedBinded)),t.label.parentNode.removeChild(t.label),t.label=null),t.material=t.line=t.geometry=t.label=t.p1=t.p2=null}this.clearAngleMeshes(),this.angleLabel&&this.angleLabel.label&&(this.angleLabel.label.parentNode.removeChild(this.angleLabel.label),this.angleLabel.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.angleLabel.label.removeEventListener("click",this.onSelectionAreaClickedBinded),this.angleLabel.label=this.angleLabel.p1=this.angleLabel.p2=null),this.clearArcMeshes(),this.arcLabel&&this.arcLabel.label&&(this.arcLabel.label.parentNode.removeChild(this.arcLabel.label),this.arcLabel.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.arcLabel.label.removeEventListener("click",this.onSelectionAreaClickedBinded),this.arcLabel.label=this.arcLabel.midPoint=null),this.locationLabel&&this.locationLabel.label&&(this.locationLabel.label.parentNode.removeChild(this.locationLabel.label),this.locationLabel.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.locationLabel.label=this.locationLabel.p=null),this.calloutLabel&&this.calloutLabel.label&&(this.calloutLabel.label.parentNode.removeChild(this.calloutLabel.label),this.calloutLabel.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.calloutLabel.label=this.calloutLabel.p=null),this.areaLabel&&this.areaLabel.label&&(this.areaLabel.label.parentNode.removeChild(this.areaLabel.label),this.areaLabel.label.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.areaLabel.label.removeEventListener("click",this.onSelectionAreaClickedBinded),this.areaLabel.label=this.areaLabel.p1=this.areaLabel.p2=null),this.viewer.impl.overlayScenes[this.overlayName]&&this.viewer.impl.removeOverlayScene(this.overlayName),this.viewer.removeEventListener(h.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),this.removeWindowEventListener("mouseup",this.handleButtonUpBinded)},g.clearXYZLine=function(){this.viewer.impl.removeOverlay(this.overlayName,this.lines.xyz.line),this.lines.xyz.tips&&this.lines.xyz.tips.forEach(function(e){this.viewer.impl.removeOverlay(this.overlayName,e)}.bind(this))},g.updateScale=function(){var e;for(e in this.angleOutline.forEach((e=>this.setCylinderScale(e))),this.arcOutline.forEach((e=>this.setCylinderScale(e))),this.lines)if(Object.prototype.hasOwnProperty.call(this.lines,e)){var t=this.lines[e];t.line&&t!==this.lines.xyz&&this.setCylinderScale(t.line,t.p1,t.p2)}for(e in this.segments)if(Object.prototype.hasOwnProperty.call(this.segments,e)){var i=this.segments[e];i.line&&this.setCylinderScale(i.line,i.p1,i.p2)}this.measurement.measurementType===d.MeasurementTypes.MEASUREMENT_DISTANCE&&this.measurement.isComplete()&&(this.clearXYZLine(),this.drawXYZLine(this.lines.xyz)),this.measurement.measurementType===d.MeasurementTypes.MEASUREMENT_ARC&&this.arcTip.forEach((e=>{var t=this.setScale(e.position);if(Object.prototype.hasOwnProperty.call(e,"lmv_line_width")){var i=t*e.lmv_line_width;e.scale.x=i,e.scale.z=i}var n=4*t;e.scale.y=n}))},g.setNoTopology=function(){this.topologyStatus=b,this.lines.xyz.label&&(T(this.lines.xyz.label,!1,this.topologyStatus),this.lines.xyz.label.classList.remove("fetching-topology"))},g.setFetchingTopology=function(){this.topologyStatus=1,this.lines.xyz.label&&(T(this.lines.xyz.label,!0,this.topologyStatus),this.lines.xyz.label.classList.add("fetching-topology"))},g.setTopologyAvailable=function(){this.topologyStatus=2,this.lines.xyz.label&&(T(this.lines.xyz.label,!1,this.topologyStatus),this.lines.xyz.label.classList.remove("fetching-topology"))},g.createMeasurementLabel=function(){const e=this.getDocument();var t=e.createElement("div");t.className="measure-length";var i=e.createElement("div");i.className="measure-fetching-topology",i.style.display="none",t.appendChild(i);var n=e.createElement("div");n.className="measure-length-text",t.appendChild(n);var a=e.createElement("div");return a.className="measure-delta-text",t.appendChild(a),t.causeStacking=!0,h.isMobileDevice()||d.safeToggle(t,"enable-hover",!0),t},g.createSnapResultLabel=function(e){const t=this.getDocument();var i=t.createElement("div");i.className="measure-label";var n=t.createElement("div");if(n.className="measure-label-icon",i.appendChild(n),h.isTouchDevice()){this.initLabelMobileGestures(i,e,this.measureTool);var a=t.createElement("div");a.className="measure-label-hit-area",i.appendChild(a)}return h.isMobileDevice()||(this.initMouseEvent(i,e),i.addEventListener("mousewheel",this.viewer.toolController.mousewheel),d.safeToggle(i,"enable-hover",!0)),i.causeStacking=!1,i},g.showAngleLabel=function(e){var t=this.angleLabel.label;t||(t=this.angleLabel.label=this.createMeasurementLabel(),this.viewer.container.appendChild(t),t.addEventListener("mousewheel",this.viewer.toolController.mousewheel),t.addEventListener("click",this.onSelectionAreaClickedBinded)),this.updateAngle(),this.showLabel(t),this.angleLabel.p1=e.clone(),this.angleLabel.p2=e.clone()},g.showArcLabel=function(e){var t=this.arcLabel.label;t?this.hideLabel(t):this.arcLabel.label=t=this.createArcLabel(),this.updateArcLength(),this.showLabel(t),this.arcLabel.p1=e.clone(),this.arcLabel.p2=e.clone()},g.showLocationLabel=function(e){var t=this.locationLabel.label;t||((t=this.locationLabel.label=this.createMeasurementLabel()).style.whiteSpace="pre-line",t.style.height="auto",t.style.textAlign="start",t.querySelector(".measure-delta-text").style.display="none",this.viewer.container.appendChild(t),t.addEventListener("mousewheel",this.viewer.toolController.mousewheel)),this.updateLocation(),this.showLabel(t),this.locationLabel.p=e.clone()},g.showCalloutLabel=function(e){var t=this.calloutLabel.label;t||((t=this.calloutLabel.label=this.createMeasurementLabel()).style.whiteSpace="pre-line",t.style.height="auto",t.style.textAlign="start",this.measurement.options&&this.measurement.options.width&&(t.style.width=this.measurement.options.width+"px"),t.querySelector(".measure-delta-text").style.display="none",this.viewer.container.appendChild(t),t.addEventListener("mousewheel",this.viewer.toolController.mousewheel)),this.updateCallout(),this.showLabel(t),this.calloutLabel.p=e.clone()},g.showAreaLabel=function(e){var t=this.areaLabel.label;t||(t=this.areaLabel.label=this.createMeasurementLabel(),this.viewer.container.appendChild(t),t.addEventListener("mousewheel",this.viewer.toolController.mousewheel),t.addEventListener("click",this.onSelectionAreaClickedBinded)),this.updateArea(),this.showLabel(t),this.areaLabel.p1=e,this.areaLabel.p2=e},g.onSelectionAreaClicked=function(){this.measureTool.selectMeasurementById(this.measurement.id)},g.createSelectionArea=function(){var e=this.getDocument().createElement("div");return e.id="measurement-selection-area-"+this.measurement.id,this.viewer.container.appendChild(e),e.className="measure-selection-area",e.style.display="none",e.addEventListener("mousewheel",this.viewer.toolController.mousewheel),e.addEventListener("click",this.onSelectionAreaClickedBinded),e},g.updateSelectionArea=function(){this.segments.forEach(function(e){if(e.p1&&e.p2){var t=d.project(e.p1,this.viewer),i=d.project(e.p2,this.viewer);e.selectionArea||(e.selectionArea=this.createSelectionArea());var n=e.selectionArea,a=new THREE.Vector2;n.style.top=t.y-7.5+"px",n.style.left=t.x+"px",n.style.width=a.subVectors(t,i).length()+"px",n.style.height="15px";var s,r=t.x-i.x,o=t.y-i.y;s=180*Math.atan2(-o,-r)/Math.PI,n.style.transform="rotate("+s+"deg)",n.style.transformOrigin="0px 7.5px"}}.bind(this)),this.measureTool.areAllPicksSet()&&this.enableSelectionAreas(!0)},g.clearSelectionAreas=function(){const e=this.getDocument();this.segments.forEach(function(t){if(t.selectionArea){t.selectionArea.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),t.selectionArea.removeEventListener("click",this.onSelectionAreaClickedBinded);var i=e.getElementById("measurement-selection-area-"+this.measurement.id);i&&i.parentNode.removeChild(i),t.selectionArea=null}}.bind(this))},g.enableSelectionAreas=function(e){this.segments.forEach(function(t){t.selectionArea&&(t.selectionArea.style.display=e?"block":"none")}.bind(this))},g.render=function(e,t){o.prototype.render.call(this,e,t),this.updateSelectionArea()},g.renderFromPoints=function(e,t){o.prototype.renderFromPoints.call(this,e,t),this.updateSelectionArea()},g.onCameraChange=function(){this.redrawDashedLines(),this.updateSelectionArea(),this.hideLabelsOutsideOfView(),this.updateLabelsPosition()},g.handleResize=function(){this.redrawDashedLines(),this.updateSelectionArea(),this.updateLabelsPosition()};var L=i(48234);const S=Autodesk.Viewing,R=Autodesk.Viewing.Private;function P(e,i,n,a){var s=e,r=["measure"];this.setGlobalManager(e.globalManager);var o=n,l=Autodesk.Viewing,c=Autodesk.Viewing.MeasureCommon,h=!1,d=!1,u=!1,A=0,p=!1,g=!1,b=null,C=null,v=!1,f=new t(s),w=null,y=null,x=[],E=null,B=!1,k=a,M=!1,T=[],S=null,P=null,I=c.MeasurementTypes.MEASUREMENT_DISTANCE,D=!0,G=null;function N(e){const t=(e=e||w).clonePicks(),i=[];for(let n=0;n<t.length;n++){const a=t[n];let r=c.getSnapResultPosition(a,s);const o=Object.prototype.hasOwnProperty.call(a,"modelId")&&a.modelId?s.impl.findModel(a.modelId):s.model;if(o){const e=o.getData();r=e&&Object.prototype.hasOwnProperty.call(e,"globalOffset")?r.clone().add(e.globalOffset):r.clone()}const l={intersection:JSON.parse(JSON.stringify(r)),modelId:a.modelId,viewportIndex2d:a.viewportIndex2d,snapNode:a.snapNode};e.arc&&(l.circularArcCenter=a.circularArcCenter,l.circularArcRadius=a.circularArcRadius),i.push(l)}return i}function z(e){e=e||w;const t=c.MeasurementTypes;switch(e.measurementType){case t.MEASUREMENT_DISTANCE:return"Distance";case t.MEASUREMENT_ANGLE:return"Angle";case t.MEASUREMENT_AREA:return"Area";case t.CALIBRATION:return"Calibration";case t.MEASUREMENT_ARC:return"Arc";case t.MEASUREMENT_LOCATION:return"Location";case t.MEASUREMENT_CALLOUT:return"Callout";default:return}}function V(e){for(var t in f.measurementsList)if(Object.prototype.hasOwnProperty.call(f.measurementsList,t)){var i=f.measurementsList[t];i.indicator.changeAllEndpointsEditableStyle(e),i.indicator.enableSelectionAreas(e),i.indicator.enableLabelsTouchEvents(e)}}function O(e){for(let t=0;t<x.length;++t){x[t].indicator[e]()}x.length=0}this.getActivePick=function(){return w?0===A?null:(e=A===w.getMaxNumberOfPicks()+1?w.countPicks():A,w.getPick(e)):null;var e},this.getPreviousPick=function(){return w?0===A?null:(e=1===A?w.countPicks():A===w.getMaxNumberOfPicks()+1?w.countPicks()-1:A-1,w.getPick(e)):null;var e},this.hasPreviousPick=function(){return!!w&&(0!==A&&(e=1===A?w.countPicks():A===w.getMaxNumberOfPicks()+1?w.countPicks()-1:A-1,w.hasPick(e)));var e},this.noPicksSet=function(){A=0},this.allPicksSet=function(){A=w.countPicks()+1,V(!0),w.indicator.enableSelectionAreas(!0),E=w.clone(),s.dispatchEvent({type:c.Events.MEASUREMENT_COMPLETED_EVENT,data:{type:w.measurementType,id:w.id}})},this.isNoPicksSet=function(){return 0===A||!w},this.areAllPicksSet=function(){return w&&A===w.getMaxNumberOfPicks()+1},this.setSessionMeasurements=function(e){G=JSON.parse(JSON.stringify(e))},this.getSessionMeasurements=function(){return JSON.parse(JSON.stringify(G))},this.register=function(){},this.deregister=function(){this.deactivate()},this.isActive=function(){return h},this.getNames=function(){return r},this.getName=function(){return r[0]},this.getPriority=function(){return 50},this.getCursor=function(){return d?null:"url(data:image/png;base64,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), auto"},this.getCurrentMeasurementRaw=function(){return w},this.getActivePointIndex=function(){return A},this.setActivePointIndex=function(e){A=e},this.getMeasurementsManager=function(){return f},this.shouldConsumeSingleClick=function(){return p},this.setConsumeSingleClick=function(e){p=e},this.isSingleClickHandled=function(){return g},this.setSingleClickHandled=function(e){g=e},this.isPressing=function(){return M},this.setIsPressing=function(e){M=e},this.startNewMeasurement=function(){(w=f.createMeasurement(I)).attachIndicator(s,this,m),y instanceof Function&&(y(),y=null),V(!1)},this.changeMeasurementType=function(e){(e!==I||D)&&(I=e,D=!1,R.analytics.track("viewer.measure",{action:"Enabled",type:c.MeasurementTypesToAnalytics[I]}))},this.getCurrentMeasureType=function(){return I},this.activate=function(){h=!0,D=!0,f.init(),this.noPicksSet(),d=!1,this.isEditingEndpoint=!1,this.editByDrag=!1,s.impl.pauseHighlight(!0),s.clearSelection(),P=s.getState({objectSet:!0}),s.toolController.activateTool("snapper"),s.toolController.activateTool("magnifyingGlass"),this.onMeasurementChangedBinded=this.onMeasurementChanged.bind(this),s.addEventListener(c.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChangedBinded),s.addEventListener(l.CAMERA_CHANGE_EVENT,this.onCameraChange),s.addEventListener(l.SHOW_ALL_EVENT,this.onShowAllEvent);if(s.prefs.get(l.Private.Prefs.RESTORE_SESSION_MEASUREMENTS)){const e=this.getSessionMeasurements();this.setMeasurements(e),this.isolateMeasurement()}},this.deactivate=function(){if(!h)return;s.dispatchEvent({type:L.b,mode:"end"}),R.analytics.track("viewer.measure",{action:"Disabled",type:c.MeasurementTypesToAnalytics[I]});if(s.prefs.get(l.Private.Prefs.RESTORE_SESSION_MEASUREMENTS)){this.clearIncompleteMeasurement();const e=this.getMeasurementList();this.setSessionMeasurements(e)}for(h=!1,this.clearIsolate(),P=null,E=null,B=!1;Object.keys(f.measurementsList).length>0;)w=f.measurementsList[Object.keys(f.measurementsList)[0]],f.changeCurrentMeasurement(w),this.clearCurrentMeasurement(),w=null;k&&k.isActive()&&s.toolController.deactivateTool("snapper"),s.toolController.deactivateTool("magnifyingGlass"),s.impl.pauseHighlight(!1),f.destroy(),s.removeEventListener(l.CAMERA_CHANGE_EVENT,this.onCameraChange),s.removeEventListener(c.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChangedBinded),s.removeEventListener(l.SHOW_ALL_EVENT,this.onShowAllEvent)},this.clearIncompleteMeasurement=function(){this.areAllPicksSet()||(this.isEditingEndpoint?this.undoEditEndpoint():this.clearCurrentMeasurement())},this.update=function(){return!1},this.getUnits=function(){return o.units},this.setUnits=function(e){if(o.units!==e)for(var t in o.units=e,s.dispatchEvent({type:c.Events.DISPLAY_UNITS_CHANGED,units:e}),f.measurementsList)if(Object.prototype.hasOwnProperty.call(f.measurementsList,t)){var i=f.measurementsList[t];i.indicator&&i.indicator.updateResults()}},this.getPrecision=function(){return o.precision},this.setPrecision=function(e){if(o.precision!==e)for(var t in o.precision=e,s.dispatchEvent({type:c.Events.PRECISION_CHANGED,precision:e}),f.measurementsList)if(Object.prototype.hasOwnProperty.call(f.measurementsList,t)){var i=f.measurementsList[t];i.indicator&&i.indicator.updateResults()}},this.getDistanceXYZ=function(e){return e||(e=w),this.getDistanceAux(e.distanceXYZ)},this.getDistanceX=function(e){return e||(e=w),this.getDistanceAux(e.distanceX)},this.getDistanceY=function(e){return e||(e=w),this.getDistanceAux(e.distanceY)},this.getDistanceZ=function(e){return e||(e=w),this.getDistanceAux(e.distanceZ)},this.getDistanceAux=function(e){if(s.model){var t=Autodesk.Viewing.Private.convertUnits(s.model.getUnitString(),o.units,o.calibrationFactor,e||0);return Autodesk.Viewing.Private.formatValueWithUnits(t,o.units,3,o.precision)}},this.getAngle=function(e){e||(e=w);var t=e.angle;return Autodesk.Viewing.Private.formatValueWithUnits(t,String.fromCharCode(176),3,o.precision)},this.getArc=function(e){e||(e=w);var t=e.arc;return Autodesk.Viewing.Private.formatValueWithUnits(t,o.units,3,o.precision)},this.getLocation=function(e){e||(e=w);var t=e.location||{x:0,y:0,z:0};return"X: "+this.getDistanceAux(t.x)+"\nY: "+this.getDistanceAux(t.y)+"\nZ: "+this.getDistanceAux(t.z)},this.getCallout=function(e){return e||(e=w),e.text||""},this.getArea=function(t){if(s.model){t||(t=w);var i=Autodesk.Viewing.Private.convertUnits(e.model.getUnitString(),o.units,o.calibrationFactor,t.area,"square");return o.units?Autodesk.Viewing.Private.formatValueWithUnits(i,o.units+"^2",3,o.precision):Autodesk.Viewing.Private.formatValueWithUnits(i,null,3,o.precision)}},this.snapToFirstPick=function(t,i){if(w.hasPick(1)&&A>3&&!w.closedArea){var n=w.getPick(1),a=c.getSnapResultPosition(n,s),r=c.project(a,e),o=c.getSnapResultPosition(t,s),l=c.project(o,e);(i||l.distanceTo(r)<25)&&(k.onMouseMove(r),n.copyTo(t))}},this.render=function(e){B&&E&&E.picks.length>0&&function(e){const t=w.picks;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){if(t[i].viewportIndex2d)return;t[i].viewportIndex2d=e}}(E.picks[0].viewportIndex2d);var t=w.computeResult(w.picks,s,k);return w.indicator.render(w.picks,p||!!e),t},this.setUseLastViewport=function(e){B=e},this.getUseLastViewport=function(){return B},this.setMeasurements=function(e){if(e&&0!==(e=Array.isArray(e)?e:[e]).length){for(let i=0;i<e.length;i++){const n=e[i],a=t(n);if(!a)continue;const r=e=>{w=e,e.attachIndicator(s,this,m),y instanceof Function&&(y(),y=null),V(!1)},o=()=>{const e=f.getRestoredMeasurementData()[w.id];A=e.length};f.createMeasurementFromData(n,a,r,o)}this.deselectAllMeasurements()}function t(e){let t;switch(e.type){case"Distance":t=c.MeasurementTypes.MEASUREMENT_DISTANCE;break;case"Angle":t=c.MeasurementTypes.MEASUREMENT_ANGLE;break;case"Area":t=c.MeasurementTypes.MEASUREMENT_AREA;break;case"Arc":t=c.MeasurementTypes.MEASUREMENT_ARC;break;case"Location":t=c.MeasurementTypes.MEASUREMENT_LOCATION;break;case"Callout":t=c.MeasurementTypes.MEASUREMENT_CALLOUT;break;default:return}return t}},this.getMeasurement=function(e,t){if(!w)return null;o.units=e||o.units,o.precision=t||o.precision;var i=["Vertex","Edge","Face","Circular Arc","Curved Edge","Curved Face"],n=N(),a=z();return{from:i[w.getGeometry(1).type],to:i[w.getGeometry(2).type],distance:this.getDistanceXYZ(),deltaX:this.getDistanceX(),deltaY:this.getDistanceY(),deltaZ:this.getDistanceZ(),angle:this.getAngle(),area:this.getArea(),arc:this.getArc(),location:this.getLocation(),text:this.getCallout(),unitType:o.units,precision:o.precision,picks:n,type:a}},this.getMeasurementPoints=function(){return w.clonePicks()},this.getMeasurementList=function(e,t){var i=[],n=null,a=["Vertex","Edge","Face","Circular Arc","Curved Edge","Curved Face"],r=Object.keys(f.measurementsList);for(let d=0;d<r.length;d++){var l=N(n=f.measurementsList[r[d]]),c=z(n),h={from:a[n.getGeometry(1).type],to:a[n.getGeometry(2).type],distance:this.getDistanceXYZ(n),deltaX:this.getDistanceX(n),deltaY:this.getDistanceY(n),deltaZ:this.getDistanceZ(n),angle:this.getAngle(n),area:this.getArea(n),arc:this.getArc(n),location:this.getLocation(n),text:this.getCallout(n),unitType:e||o.units,precision:t||o.precision,picks:l,type:c};if(n.options){const e=h.options=JSON.parse(JSON.stringify(n.options));!e.modelId&&l[0]&&l[0].modelId&&(e.modelId=l[0].modelId);const t=e.modelId?s.impl.findModel(e.modelId):s.model,i=t&&t.getData().globalOffset;if(i&&(0!==i.x||0!==i.y||0!==i.z)){const t=e=>{if(e)for(let t=0;t<e.length;++t)THREE.Vector3.prototype.add.call(e[t],i)};t(e.dimensionOffset),t(e.dashedLeader),t(e.arc)}}i.push(h)}return i},this.clearCurrentMeasurement=function(){if(w){for(var e in this.noPicksSet(),w.picks)Object.prototype.hasOwnProperty.call(w.picks,e)&&this.clearPick(e);this.updateViewportId(!0),v&&this.clearIsolate(),w.indicator.clear(),w.indicator.destroy(),w=f.removeCurrentMeasurement(),w=null}V(!0)},this.clearPick=function(e){w&&w.hasPick(e)&&(w.clearPick(e),w.indicator.hideClick(e))},this.setIsolateMeasure=function(e){v=e},this.getIsolateMeasure=function(){return v},this.isolateMeasurement=function(){if(h&&v){var e=s.model.id,t={};for(var i in f.measurementsList)if(Object.prototype.hasOwnProperty.call(f.measurementsList,i)){var n=f.measurementsList[i];for(let i in n.picks)if(Object.prototype.hasOwnProperty.call(n.picks,i)){var a=n.getPick(i),r=a.modelId||e;Array.isArray(t[r])||(t[r]=[]),-1==t[r].indexOf(a.snapNode)&&t[r].push(a.snapNode)}}var o=[];for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e)){var l=s.impl.findModel(parseInt(e));o.push({model:l,ids:t[e]})}o.length&&s.impl.visibilityManager.aggregateIsolate(o)}},this.clearIsolate=function(){P&&s.restoreState(P,void 0,!0)},this.onShowAllEvent=function(e){P=null},this.deselectAllMeasurements=function(){for(var e in w&&!this.areAllPicksSet()&&(this.isEditingEndpoint?this.undoEditEndpoint():this.clearCurrentMeasurement()),f.measurementsList)if(Object.prototype.hasOwnProperty.call(f.measurementsList,e)){var t=f.measurementsList[e];t.indicator&&(t.indicator.setSimple(!0),t.indicator.hideEndpoints(),t.indicator.unfocusLabels())}w=null},this.onMeasurementChanged=function(){this.deselectAllMeasurements(),(w=f.getCurrentMeasurement()).isComplete()&&(w.indicator.setSimple(!1),this.allPicksSet(),this.render(!0),this.updateResults())},this.selectMeasurementById=function(e){w||(w=f.selectMeasurementById(e)),w.id!==e&&(this.clearIncompleteMeasurement(),w=f.selectMeasurementById(e))},this.editEndpoint=function(e,t,i){if(w.id===i&&A===t)return w.indicator.changeEndpointOnEditStyle(t,!1),void this.undoEditEndpoint();for(var n in this.selectMeasurementById(i),s.dispatchEvent({type:L.b,mode:"start"}),A=t,this.isEditingEndpoint=!0,w.indicator.changeEndpointOnEditStyle(t,!0),V(!1),w.picks)Object.prototype.hasOwnProperty.call(w.picks,n)&&(T[n]=w.getPick(n).clone());if(this.updateViewportId(),v&&this.clearIsolate(),w.isRestored){k.onMouseMove({x:e.canvasX,y:e.canvasY});const t=k.getSnapResult().clone(),i=w.getPick(A);t.copyTo(i),i.isValid=!0,w.isRestored=!function(){const e=w.picks;for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t)){if(!e[t].isValid)return!1}return!0}()}l.isMobileDevice()||this._handleMouseEvent(e)},this.canCloseArea=function(){return w.countPicks()>3},this.undoEditEndpoint=function(){for(var e in w.indicator.clear(),w.picks)Object.prototype.hasOwnProperty.call(w.picks,e)&&w.setPick(e,T[e].clone());w.indicator.changeEndpointOnEditStyle(A,!1),this.isEditingEndpoint=!1,this.updateViewportId(!0),this.allPicksSet(),this.render(!0)},this.updateResults=function(){w.indicator.updateResults(),w.indicator.showEndpoints(),w.indicator.focusLabels(),w.isComplete()&&this.isolateMeasurement()},this.deleteMeasurements=function(){const e=f.measurementsList,t=Object.keys(e);for(let i=0;i<t.length;i++){const n=t[i];f.currentMeasurement=e[n],w=f.getCurrentMeasurement(),this.deleteCurrentMeasurement()}},this.deleteCurrentMeasurement=function(){let e=w?w.clone():null;this.clearCurrentMeasurement(),this.isEditingEndpoint=!1,this.editByDrag=!1,d=!1,this.isolateMeasurement(),e&&s.dispatchEvent({type:c.Events.DELETE_MEASUREMENT,data:{type:e.measurementType,id:e.id}}),e=null},this.deleteCurrentPick=function(){for(var e=this.getActivePick().id;w.hasPick(e+1);)w.setPick(e,w.getPick(e+1)),e++;delete w.picks[e];var t=w.countPicks();if(--A<=0&&(A=t),this.isEditingEndpoint){if(2==t)return void this.deleteCurrentMeasurement();w.indicator.changeAllEndpointsOnEditStyle(!1),this.isEditingEndpoint=!1,this.updateViewportId(!0),this.allPicksSet(),this.render()}else this._handleMouseEvent()},this.updateViewportId=function(e){if(s.model&&s.model.is2d())if(e||this.isNoPicksSet())s.impl.updateViewportId(0),k.setViewportId(null);else if(!M){var t=this.getPreviousPick().viewportIndex2d||this.getActivePick().viewportIndex2d;s.impl.updateViewportId(t),k&&k.setViewportId(t)}},this.setNoTopology=function(){O("setNoTopology"),y=function(){w.indicator.setNoTopology()}},this.setFetchingTopology=function(){y=function(){x.push(w),w.indicator.setFetchingTopology()},w&&w.indicator&&y()},this.setTopologyAvailable=function(){O("setTopologyAvailable"),y=function(){w.indicator.setTopologyAvailable()}},this.getSnapper=function(){return k},this.correctPickPosition=function(){var t=this.getActivePick();if(t&&!t.getGeometry()&&S&&(t.geomType=c.SnapType.SNAP_VERTEX,t.geomVertex=S,t.intersectPoint=S),this.hasPreviousPick()){var i=this.getPreviousPick();if(!c.correctPerpendicularPicks(i,t,e,k)){var n=(t.id+1)%(w.countPicks()+1);if(0===n&&(n=1),n!==t.id&&w.hasPick(n)){var a=w.getPick(n);c.correctPerpendicularPicks(a,t,e,k)}}w.measurementType==c.MeasurementTypes.MEASUREMENT_AREA&&this.snapToFirstPick(t)}},this._handleMouseEvent=function(e){var t=!1;if(k.isSnapped()){var i;if((this.areAllPicksSet()||this.isNoPicksSet())&&(this.startNewMeasurement(),A=1),k.copyResults(this.getActivePick()),p&&(null===(i=w)||void 0===i?void 0:i.measurementType)===c.MeasurementTypes.MEASUREMENT_ARC&&(!w.getPick(1).circularArcCenter||w.hasPick(2)&&(!c.isEqualVectors(w.getPick(1).circularArcCenter,w.getPick(2).circularArcCenter,0)||w.getPick(1).circularArcRadius!==w.getPick(2).circularArcRadius)))return!1;t=!0}else{if(e&&s.model){var n=s.container.getBoundingClientRect(),a=e.canvasX||e.clientX-n.left,r=e.canvasY||e.clientY-n.top;if(a&&r){let e;if(s.impl.is2d)e=!0;else{const t=[];s.impl.renderer().idAtPixel(a,r,t);const i=t[1];if(i>0){const t=s.impl.modelQueue().findModel(i);e=null==t?void 0:t.is2d()}}S=e?c.inverseProject({x:a,y:r},s):null}}if(p&&w&&!this.isEditingEndpoint&&A===w.getMaxNumberOfPicks()+1)return!0;var o=this.getActivePick();o&&o.clear()}if(w&&(this.correctPickPosition(),p&&this._doConsumeSingleClick(),!this.isNoPicksSet())){var l=this.render();w.hasPick(2)&&(t&=l)}return t},this._doConsumeSingleClick=function(){var e;if(w.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&!w.closedArea){var t=w.countPicks(),i=w.getPick(1),n=w.getPick(t);t>=3&&w.hasEqualPicks(i,n)&&(n.clear(),delete w.picks[t],w.closedArea=!0)}this.updateResults();var a=w.isComplete();this.updateViewportId(a),s.dispatchEvent({type:L.b,mode:a?"end":"start"}),R.analytics.track("viewer.measure",{action:"Measurement",type:c.MeasurementTypesToAnalytics[w.measurementType],snapping:(null===(e=this.getActivePick())||void 0===e?void 0:e.geomType)!==c.SnapType.RASTER_PIXEL})},this.handleButtonDown=function(e,t){return l.isMobileDevice()||(d=!0,s.dispatchEvent({type:L.b,mode:"start"}),0!==t||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(p=!0,b=e.canvasX,C=e.canvasY)),!1},this.handleMouseMove=function(t){return l.isMobileDevice()||(t.canvasX===b&&t.canvasY===C||(p=!1),u=this.isEditingEndpoint,this.isNoPicksSet()||this.areAllPicksSet()||(this.clearPick(A),this._handleMouseEvent(t)),function(){var t;if(w||k.setArc(!0),(null===(t=w)||void 0===t?void 0:t.measurementType)===c.MeasurementTypes.MEASUREMENT_ARC&&e.model.is2d()){var i=w&&w.getPick(1),n=w&&w.hasPick(2)&&w.getPick(2);const e=!i||w.countPicks().length>2||c.isEqualVectors(i.circularArcCenter,n.circularArcCenter,0)&&i.circularArcRadius===n.circularArcRadius;k.setArc(e)}}(),k.indicator.render()),!1},this.restoreMouseListeners=function(){s.toolController.getTool("gestures").controller.enableMouseButtons(!0)},this.handlePressHold=function(e){if(p=!1,l.isTouchDevice())switch(e.type){case"press":return M=!0,(this.areAllPicksSet()||this.isNoPicksSet())&&(this.startNewMeasurement(),v&&this.clearIsolate(),A=1),this._handleMouseEvent(e),k.indicator.render(),!0;case"pressup":return p=!0,this.restoreMouseListeners(),g=!g,this.handleSingleClick(e),M=!1,!0}return!1},this.handleGesture=function(e){if(l.isTouchDevice()){if(p=!1,M)switch(this.clearPick(A),e.type){case"dragstart":case"dragmove":return this._handleMouseEvent(e),k.indicator.render(),!0;case"dragend":return M=!1,p=!0,this.editByDrag||(g=!g,this.handleSingleClick(e)),this.editByDrag=!1,this.restoreMouseListeners(),!0;case"pinchstart":case"pinchmove":this._handleMouseEvent(e),k.indicator.render();break;case"pinchend":return p=!0,g=!g,this.handleSingleClick(e),this.restoreMouseListeners(),!0}if(-1!==e.type.indexOf("pinch"))for(var t in f.measurementsList){if(Object.prototype.hasOwnProperty.call(f.measurementsList,t))f.measurementsList[t].indicator.updateScale()}}return!1},this.handleButtonUp=function(e,t){return d=!1,s.dispatchEvent({type:L.b,mode:"end"}),b=null,C=null,u&&(p=!0,g=!g,this.handleSingleClick(e),u=!1),!1},this.handleSingleClick=function(e,t){return p&&(k.indicator.clearOverlays(),w&&w.indicator.changeEndpointOnEditStyle(A,!1),this._handleMouseEvent(e)?(this.updateResults(),A++):this.isEditingEndpoint?this.undoEditEndpoint():w&&w.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&this.canCloseArea()?(this.snapToFirstPick(this.getActivePick(),!0),this._handleMouseEvent()):this.clearCurrentMeasurement(),w&&w.isComplete()&&this.allPicksSet(),p=!1,g=!g,this.isEditingEndpoint=!1,k.clearSnapped()),!0},this.handleDoubleClick=function(e){return!0},this.onCameraChange=function(){for(var e in f.measurementsList){if(Object.prototype.hasOwnProperty.call(f.measurementsList,e))f.measurementsList[e].indicator.updateScale()}k.indicator.onCameraChange()},this.handleSingleTap=function(e){return g||(p=!0,k.onMouseDown({x:e.canvasX,y:e.canvasY}),this.handleSingleClick(e)),g=!g,!0},this.handleDoubleTap=function(t){if(w&&w.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&w.countPicks()>2){var i=w.getPick(1),n=c.getSnapResultPosition(i,s),a=c.project(n,e);t.canvasX=a.x,t.canvasY=a.y,p=!0,k.onMouseDown(a),this.handleSingleClick(t),g=!g}return!0},this.handleResize=function(){for(var e in f.measurementsList)if(Object.prototype.hasOwnProperty.call(f.measurementsList,e)){var t=f.measurementsList[e];t.indicator&&t.indicator.handleResize()}},this.handleKeyDown=function(e,t){switch(t){case Autodesk.Viewing.KeyCode.BACKSPACE:case Autodesk.Viewing.KeyCode.DELETE:return w&&w.measurementType===c.MeasurementTypes.MEASUREMENT_AREA&&!this.areAllPicksSet()&&w.countPicks()>2?this.deleteCurrentPick():this.deleteCurrentMeasurement(),!0}return!1}}S.GlobalManagerMixin.call(P.prototype);var I=Autodesk.Viewing,D=Autodesk.Viewing.MeasureCommon;function G(e,t,i){o.call(this,e,t,i),this.calibrationTool=i,this.calibrationLabel=null,this.endpoints=null,this.tmpVector=new THREE.Vector3,this.p1=null,this.p2=null,this.rubberbandDefaultMaterial=new THREE.MeshBasicMaterial({color:15249964,opacity:1,transparent:!1,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.rubberbandSnappedMaterial=new THREE.MeshBasicMaterial({color:23502,opacity:1,transparent:!1,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide}),this.rubberbandTipMaterial=new THREE.MeshBasicMaterial({color:0,opacity:1,transparent:!1,depthTest:!1,depthWrite:!1,side:THREE.DoubleSide})}G.prototype=Object.create(o.prototype),G.prototype.constructor=G;var N=G.prototype;function z(e,t){return e.right>=t.left&&e.right<=t.right}function V(e,t){return e.left>=t.left&&e.left<=t.right}function O(e,t){return e.left<=t.left&&e.right>=t.right}function U(e,t,i){e.style.left=parseInt(e.style.left,10)+(i.right-t.left)+"px"}function Y(e,t,i){e.style.top=parseInt(e.style.top,10)+(i.bottom-t.top)+"px"}N.createEndpoint=function(e){this.endpoints[e]={},this.endpoints[e].position=null;const t=this.getDocument();var i=this.endpoints[e].label=t.createElement("div");i.className="calibration-endpoint",this.viewer.container.appendChild(i);var n=t.createElement("div");n.className="calibration-endpoint-text",n.textContent=e.toString(),i.appendChild(n),I.isTouchDevice()&&this.initLabelMobileGestures(i,e,this.calibrationTool),I.isMobileDevice()||(D.safeToggle(i,"enable-hover",!0),this.initMouseEvent(i,e),i.addEventListener("mousewheel",this.viewer.toolController.mousewheel))},N.init=function(){if(D.createCommonOverlay(this.viewer,this.overlayName),!this.calibrationLabel){const t=this.getDocument();this.calibrationLabel=t.createElement("div"),this.calibrationLabel.className="calibration-label",this.hideLabel(this.calibrationLabel),this.viewer.container.appendChild(this.calibrationLabel),this.calibrationLabel.addEventListener("mousewheel",this.viewer.toolController.mousewheel);var e=t.createElement("div");e.className="calibration-label-text",this.calibrationLabel.appendChild(e)}this.endpoints=[],this.handleButtonUpBinded=this.calibrationTool.handleButtonUp.bind(this.calibrationTool),this.addWindowEventListener("mouseup",this.handleButtonUpBinded),this.onCameraChangeBinded=this.onCameraChange.bind(this),this.viewer.addEventListener(I.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded)},N.destroy=function(){this.clear(),o.prototype.destroy.call(this),this.calibrationLabel&&(this.calibrationLabel.removeEventListener("mousewheel",this.viewer.toolController.mousewheel),this.viewer.container.removeChild(this.calibrationLabel),this.calibrationLabel=null),this.viewer.impl.clearOverlay(this.overlayName),this.viewer.impl.removeOverlayScene(this.overlayName),this.removeWindowEventListener("mouseup",this.handleButtonUpBinded),this.viewer.removeEventListener(I.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded)},N.clearRubberband=function(){this.viewer.impl.clearOverlay(this.overlayName)},N.clear=function(){for(var e in this.clearRubberband(),this.hideLabel(this.calibrationLabel),this.endpoints)Object.prototype.hasOwnProperty.call(this.endpoints,e)&&(this.hideClick(e),this.endpoints[e].position=null)},N.updateLabelValue=function(e){e&&""!==e?(this.calibrationLabel.childNodes[0].setAttribute("data-i18n",e),this.calibrationLabel.childNodes[0].textContent=I.i18n.translate(e),this.showLabel(this.calibrationLabel),this.calibrationTool.render()):(this.calibrationLabel.childNodes[0].textContent=null,this.hideLabel(this.calibrationLabel))},N.changeLabelClickableMode=function(e){this.calibrationLabel.childNodes[0].style.pointerEvents=e?"all":"none"},N.showAddCalibrationLabel=function(){var e=this;this.updateLabelValue("Add Calibration"),this.changeLabelClickableMode(!0),this.calibrationTool.render(),this.calibrationLabel.addEventListener("click",(function t(){e.calibrationLabel.childNodes[0].style.pointerEvents="none",e.calibrationTool.render(),e.updateLabelValue(null),e.calibrationTool.showPanel(),e.calibrationLabel.removeEventListener("click",t)}))},N.updateLabelsPosition=function(){for(var e=1;e<=Object.keys(this.endpoints).length;e++)if(this.endpoints[e].position){var t=this.endpoints[e].label,i=D.project(this.endpoints[e].position,this.viewer,15);t.style.left=i.x-parseInt(t.clientWidth)/2+"px",t.style.top=i.y-parseInt(t.clientHeight)/2+"px",t.point=this.endpoints[e].position,this.labelsOverlapDetection(this.endpoints[e].label,this.endpoints)}this.hideLabelsOutsideOfView()},N.labelsOverlapDetection=function(e,t){for(var i=1;i<=Object.keys(t).length;i++){var n=t[i].label;if(e!==n){var a=e.getBoundingClientRect(),s=n.getBoundingClientRect();h=a,(c=s).top<h.bottom&&c.bottom>h.top&&(z(s,a)?(o=s,l=a,(r=n).style.left=parseInt(r.style.left,10)-(o.right-l.left)+"px"):V(s,a)?U(n,s,a):O(s,a)&&Y(n,s,a))}}var r,o,l,c,h},N.renderCalibrationLabel=function(){if(this.showMeasureResult&&this.calibrationLabel&&this.p1&&this.p2){var e={x:(this.p1.x+this.p2.x)/2,y:(this.p1.y+this.p2.y)/2,z:(this.p1.z+this.p2.z)/2},t=D.project(e,this.viewer);this.labelPosition=new THREE.Vector2(t.x,t.y),this.calibrationLabel.childNodes[0].textContent&&this.showLabel(this.calibrationLabel),this.calibrationLabel.style.top=this.labelPosition.y-Math.floor(this.calibrationLabel.clientHeight/2)+"px",this.calibrationLabel.style.left=this.labelPosition.x-Math.floor(this.calibrationLabel.clientWidth/2)+"px",this.calibrationLabel.point=e,this.viewer.model.is2d()&&this.alignLabelWithLine(this.calibrationLabel,this.p1,this.p2,this.calibrationLabel.clientHeight,this.viewer)}},N.drawMeasurementLineTip=function(e,t,i,n){const a=[new THREE.Vector3,new THREE.Vector3],s=new THREE.BufferGeometry;var r=this.setScale(e);n=n?-1:1;var o=this.snapper.isSnapped()&&!this.showMeasureResult?this.rubberbandSnappedMaterial:this.rubberbandTipMaterial;a[0].addVectors(e,i.clone().multiplyScalar(5*r)),a[1].subVectors(e,i.clone().multiplyScalar(5*r)),s.setFromPoints(a),this.drawLineAsCylinder(s,o,1.5,this.overlayName),a[0].copy(e),a[1].subVectors(e,t.clone().multiplyScalar(5*r*n)),s.setFromPoints(a),this.drawLineAsCylinder(s,o,1.5,this.overlayName),a[0].addVectors(e,i.clone().multiplyScalar(3*r)),a[1].subVectors(e,i.clone().multiplyScalar(3*r)),s.setFromPoints(a),this.drawLineAsCylinder(s,this.rubberbandDefaultMaterial,2,this.overlayName),a[0].addVectors(e,i.clone().multiplyScalar(3*r)),a[0].addVectors(a[0],t.clone().multiplyScalar(3*r)),a[1].subVectors(e,i.clone().multiplyScalar(3*r)),a[1].subVectors(a[1],t.clone().multiplyScalar(3*r)),s.setFromPoints(a),this.drawLineAsCylinder(s,this.rubberbandDefaultMaterial,2,this.overlayName)},N.renderDistanceMeasurement=function(e,t){if(this.viewer.impl.clearOverlay(this.overlayName),e&&t){var i=(new THREE.Vector3).subVectors(t,e).normalize(),n=i.clone().cross(this.viewer.navigation.getEyeVector()).normalize(),a=this.setScale(e),s=2*a,r=1*a,o=(Math.abs(e.x-t.x)<=.1||Math.abs(e.y-t.y)<=.1||this.snapper.getSnapResult().isPerpendicular)&&!this.showMeasureResult?this.rubberbandSnappedMaterial:this.rubberbandDefaultMaterial;if(this.showMeasureResult){const i=(new THREE.BufferGeometry).setFromPoints([e,t]);this.drawLineAsCylinder(i,o,3,this.overlayName)}else this.drawDashedLine(e,t,s,r,o,3,this.overlayName);this.drawMeasurementLineTip(e,i,n,!1),this.showMeasureResult&&this.drawMeasurementLineTip(t,i,n,!0),this.p1=e,this.p2=t,this.renderCalibrationLabel()}},N.onCameraChange=function(){this.measurement.isComplete()&&this.renderDistanceMeasurement(this.p1,this.p2),this.updateLabelsPosition()};var F=Autodesk.Viewing,W=Autodesk.Viewing.Extensions,H=Autodesk.Viewing.Private,j=Autodesk.Viewing.UI,Z=Autodesk.Viewing.MeasureCommon;const Q=j&&j.DockingPanel||class{},X=W&&W.ViewerPanelMixin||function(){},J=F.getGlobal().document;var q=function(e,t,i,n,a){var s=this;(a=a||{}).addFooter=!1,Q.call(this,t.container,i,n,a),this.viewer=t,this.calibrationTool=e,this.parentContainer=t.container,this.container.style.left="0px",this.container.style.top="0px",this.container.style.resize="none",this.container.classList.add("calibration-panel"),this.setGlobalManager&&this.setGlobalManager(t.globalManager),this.addEventListener(this.closer,"click",(function(e){s.cancel()})),a.heightAdjustment||(a.heightAdjustment=40),a.marginTop||(a.marginTop=0),a.left=!1,this.createScrollContainer(a);const r=this.getDocument&&this.getDocument()||J;this.calibrationMenu=r.createElement("div"),this.scrollContainer.appendChild(this.calibrationMenu),this.table=r.createElement("table"),this.table.className="adsk-lmv-tftable calibration-table",this.tbody=r.createElement("tbody"),this.table.appendChild(this.tbody),this.calibrationMenu.appendChild(this.table),this.row=this.tbody.insertRow(0),this.requestedSizeTextbox=r.createElement("input"),this.requestedSizeTextbox.className="docking-panel-textbox",this.requestedSizeTextbox.type="text",this.requestedSizeTextbox.autofocus="true",this.addEventListener(this.requestedSizeTextbox,"keyup",(function(e){var t=s.requestedSizeTextbox.value;""!==t&&""===t.split(".")[0]&&(s.requestedSizeTextbox.value="0"+t),s.updateLabel()})),this.addEventListener(this.requestedSizeTextbox,"keypress",(function(e){var t=e.key||String.fromCharCode(e.keyCode);if("Backspace"!=t&&"ArrowLeft"!=t&&"ArrowRight"!=t)if(e.keyCode!=F.KeyCode.ESCAPE){if(e.keyCode==F.KeyCode.ENTER){var i=s.unitList.selectedIndex,n=s.units[i].units;s.calibrationTool.calibrate(n,s.requestedSizeTextbox.value)}var a=s.requestedSizeTextbox.value,r=s.requestedSizeTextbox.selectionStart;if("."!=(a=[a.slice(0,r),t,a.slice(r)].join(""))){var o=s.units[s.unitList.selectedIndex].simpleInput;(!_(a)||o&&(!K(a)||Autodesk.Viewing.Private.calculatePrecision(a)>s.calibrationTool.getMaxPrecision()))&&e.preventDefault()}}else s.cancel()}));var o="Define Size",l=this.row.insertCell(0);this.caption=r.createElement("div"),this.caption.setAttribute("data-i18n",o),this.caption.textContent=F.i18n.translate(o),l.appendChild(this.caption),(l=this.row.insertCell(1)).appendChild(this.requestedSizeTextbox),this.units=[{name:"Feet and fractional inches",units:"ft-and-fractional-in",matches:["ft-and-fractional-in","fractional-in"],simpleInput:!1},{name:"Feet and decimal inches",units:"ft-and-decimal-in",matches:["ft","decimal-ft","in","decimal-in","ft-and-decimal-in"],simpleInput:!1},{name:"Meters",units:"m",matches:["m","m-and-cm"],simpleInput:!0},{name:"Centimeters",units:"cm",matches:["cm"],simpleInput:!0},{name:"Millimeters",units:"mm",matches:["mm"],simpleInput:!0}];for(var c=[],h=0;h<this.units.length;++h)c.push(this.units[h].name);this.unitList=new H.OptionDropDown("Unit type",this.tbody,c,0,null,void 0,{paddingLeft:0,paddingRight:0}),this.unitList.setGlobalManager(this.globalManager),this.addEventListener(this.unitList,"change",(function(e){s.updateLabel()}));var d=r.createElement("div");d.classList.add("docking-panel-footer"),this.calibrationMenu.appendChild(d);var u=r.createElement("div");u.classList.add("docking-panel-secondary-button"),u.setAttribute("data-i18n","Cancel"),u.textContent=F.i18n.translate("Cancel"),u.addEventListener("click",(function(){s.cancel()}),!1),d.appendChild(u);var A=r.createElement("div");A.classList.add("docking-panel-primary-button"),A.setAttribute("data-i18n","Calibrate"),A.textContent=F.i18n.translate("Calibrate"),A.addEventListener("click",(function(){var e=s.unitList.selectedIndex,t=s.units[e].units;s.calibrationTool.calibrate(t,s.requestedSizeTextbox.value)}),!1),d.appendChild(A)},_=function(e){return e.match(/^(\d+)/)},K=function(e){return e+="0",!isNaN(parseFloat(e))&&!isNaN(+e)&&parseFloat(e)>=0};q.prototype=Object.create(Q.prototype),X.call(q.prototype),q.prototype.uninitialize=function(){this.viewer=null,Q.prototype.uninitialize.call(this)},q.prototype.cancel=function(){this.setVisible(!1),this.calibrationTool.clearSize(),this.calibrationTool.showAddCalibrationLabel()},q.prototype.findUnits=function(){var e,t,i=this.calibrationTool.getCurrentUnits();for(e=0;e<this.units.length;++e){var n=this.units[e].matches;if(n)for(t=0;t<n.length;++t)if(n[t]===i)return e}return 0},q.prototype.setPanelValue=function(e){this.updateUnits(),this.requestedSizeTextbox.value=e},q.prototype.updateUnits=function(){this.unitList.setSelectedIndex(this.findUnits())},q.prototype.updateLabel=function(){var e=this.unitList.selectedIndex,t=this.units[e].units,i=this.requestedSizeTextbox.value,n=Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(i,t),a=Autodesk.Viewing.Private.formatValueWithUnits(n,t,3,Autodesk.Viewing.Private.calculatePrecision(i));""===i?this.calibrationTool.updateLabelValue(null):isNaN(n)||this.calibrationTool.updateLabelValue(a)},q.prototype.updatePanelPosition=function(e,t,i,n){var a,s,r=parseInt(this.container.getBoundingClientRect().width),o=parseInt(this.container.getBoundingClientRect().height);if(e&&t&&i){t=Z.project(t,this.viewer),i=Z.project(i,this.viewer);var l,c=(new THREE.Vector2).copy(t).sub(i).normalize();l=t.x<i.x?new THREE.Vector2(c.y,-c.x):new THREE.Vector2(-c.y,c.x);var h=n+Math.sqrt(Math.pow(r,2)+Math.pow(o,2))/2;l=l.multiplyScalar(h);var d=e.sub(l);a=d.x-Math.floor(r/2),s=d.y-Math.floor(o/2),(a<0||a+r>this.viewer.canvas.clientWidth||s<0||s+o>this.viewer.canvas.clientHeight)&&(a=Math.floor((this.viewer.canvas.clientWidth-r)/2),s=Math.floor((this.viewer.canvas.clientHeight-o)/2))}else a=Math.floor((this.viewer.canvas.clientWidth-r)/2),s=Math.floor((this.viewer.canvas.clientHeight-o)/2);this.container.style.left=a+"px",this.container.style.top=s+"px"};var $=function(e,t,i,n,a){var s=this;(a=a||{}).addFooter=!1,Q.call(this,t.container,i,n,a),this.viewer=t,this.measureExt=e,this.parentContainer=t.container,this.container.classList.add("calibration-panel"),this.setGlobalManager&&this.setGlobalManager(t.globalManager),a.heightAdjustment||(a.heightAdjustment=70),a.marginTop||(a.marginTop=0),a.left=!1;const r=this.getDocument&&this.getDocument()||J;this.createScrollContainer(a),this.dialogBox=r.createElement("div"),this.scrollContainer.appendChild(this.dialogBox);var o=r.createElement("div");o.className="calibration-text";var l="Calibration Message";o.setAttribute("data-i18n",l),o.textContent=F.i18n.translate(l),this.dialogBox.appendChild(o);var c=r.createElement("div");c.className="calibration-buttons-wrapper",this.dialogBox.appendChild(c);var h=r.createElement("div");h.classList.add("docking-panel-secondary-button"),h.classList.add("calibration-button-left"),h.setAttribute("data-i18n","Cancel"),h.textContent=F.i18n.translate("Cancel"),h.addEventListener("click",(function(){s.setVisible(!1)}),!1),c.appendChild(h);var d=r.createElement("div");d.classList.add("docking-panel-primary-button"),d.classList.add("calibration-button-right"),d.setAttribute("data-i18n","Calibrate Now"),d.textContent=F.i18n.translate("Calibrate Now"),d.addEventListener("click",(function(){s.measureExt.enableCalibrationTool(!0),s.setVisible(!1)}),!1),c.appendChild(d)};$.prototype=Object.create(Q.prototype),X.call($.prototype),$.prototype.uninitialize=function(){this.viewer=null,Q.prototype.uninitialize.call(this)};const ee=Autodesk.Viewing;var te=function(e,t,i,n){var a=Autodesk.Viewing,s=Autodesk.Viewing.MeasureCommon,r=["calibration"],o=e,l=new s.Measurement(s.MeasurementTypes.MEASUREMENT_DISTANCE),c=t||{};this.setGlobalManager(e.globalManager);var h=i,d=t.maxPrecision||5,u=null!=i.calibrationFactor,A=n,p=!1,m=!1,g=!1,b=null,C=!1,v=null,f=null,w=null,y=null,x=!1,E=[],B=null,k=0,M=!1,T=!1,S=!1,R=null,P=null,I=null,D=Autodesk.Viewing.GuiViewer3D&&e instanceof Autodesk.Viewing.GuiViewer3D;function N(){switch(k){case 0:return null;case 1:case 2:return l.getPick(k);case 3:return l.getPick(l.countPicks())}}function z(){switch(k){case 0:return null;case 1:return l.getPick(l.countPicks());case 2:case 3:return l.getPick(1)}}function V(){k=0}function O(){k=3,l.indicator.changeAllEndpointsEditableStyle(!0)}function U(){return 0===k}function Y(){return 3===k}this.register=function(){D&&!I&&(I=new q(this,o,"calibration-panel","Calibration",c),o.addPanel(I)),this.onCameraChangeBinded=this.onCameraChange.bind(this),this.screenSizeChangedBinded=this.screenSizeChanged.bind(this)},this.deregister=function(){this.deactivate(),I&&(o.removePanel(I),I.uninitialize(),I=null)},this.isActive=function(){return p},this.getNames=function(){return r},this.getName=function(){return r[0]},this.getPriority=function(){return 50},this.getCursor=function(){return m?null:"url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABYAAAAYCAYAAAD+vg1LAAAAAXNSR0IArs4c6QAAAwZJREFUSA2tVEtLW0EUvjGJefoqSY0x0WBSiY+oNWiUINkU6ioLaaAlG1eudNVFoT+grgopiCkEIbUK1o0lusmurRSEWmmKG6MNtNhNosWqyU2CZPpN8cr15nFD7YHDzHnON2fOGYZhmHkw4XEW+wD4xkT4lMvl6CE0+Y2ohh+dz+cZn89HVS/5+n/d/wVMkXq9Xor2v5SBgsmymQwZHx+vOqlKpXKDXWI3eU6Tg+kqSjSh3W4/s9lsvzUajaNcAK3xY7Dyci3nd6WXSCS60dHRvMfjSRcKBfWV4SYbrVarB8p0PB5nY7HYmdVq/aDX67WlckpKKcvpOjs7X09OTvoPDw8z2Wy2Bu+imJqa+npycnJXGHOt3YRGoSyVSvvMZrNkYWFBs7GxkaoBAXFJcDJhcCW5rq5ur62trQ/EOhyOBhDT2Nj4qVKMqA31ve1yub7Rfufo/PycDA4OxpuamhqECaouhVqtfuD3+1tqa2uZQCCQDoVCWTwknVQDDvIKE1clI1ja09Ozg0cjx8fHpL+/P+50OhMU8f7+Punt7f2I5NdqXRXi9fV1z9jYWCuIWV5eziSTyWAqlXq1urqaw6AwOMiCG4lOYtEturu732xubhK0FQHSvfr6+lsog4HWPIPvIBqNErRiqCiwkkKpVFowZd8xZSQYDLImk+kJ52+xWJ4tLS3hU8yTkZGRBD2Ms4mu6Nun4XA4f3p6SoaGhuJ0+rgg/Bsmt9udYFmWzM3NZdDT05ztWsE5JV0R1AqUCfTt0fb2tjESiRRmZmaOUOcI3w9DY5mdnb03PDzMoDQ/MZFRzM20lO/E38vl8vt46UdAq0WNJWixlEwmu8B1bXioOxwjpgXJ0hMTE1og1qysrDghf+HnKtoD7c7u7i5ZXFzMGY3GF7iFuRR3dHTMr62tXWxtbZH29vZ3RYmECozu54ODAzpdP2hphHZOVigUVjChvgMDA+85fdm1q6vrrU6n+4WR9Zd1ujQ0Nzc/NBgMScSExXwZ2j5oL5Wo46UD/ZvxUemo+AdW1zJzUYr16wAAAABJRU5ErkJggg==), auto"},this.activate=function(){if(p=!0,m=!1,this.isEditingEndpoint=!1,this.editByDrag=!1,V(),o.toolController.activateTool(A.getName()),o.toolController.activateTool("magnifyingGlass"),l.indicator||l.attachIndicator(o,this,G),l.indicator.clear(),C&&w&&y){l.setPick(1,w.clone()),l.setPick(2,y.clone()),O();var e=Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(v,f);l.indicator.updateLabelValue(Autodesk.Viewing.Private.formatValueWithUnits(e,f,3,h.precision)),b=l.distanceXYZ,l.indicator.changeLabelClickableMode(!1),x=!0;var t=this.render();l.indicator.changeAllEndpointsEditableStyle(!0),t&&(I&&I.setPanelValue(v),this.showPanel())}else if(D){const e={messageKey:"Select two points",messageDefaultValue:"Select two points to calibrate drawing",position:"top"};Autodesk.Viewing.Private.HudMessage.displayMessage(o.container,e)}o.addEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),o.addEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.screenSizeChangedBinded)},this.deactivate=function(){p&&(o.dispatchEvent({type:L.b,mode:"end"}),p=!1,Autodesk.Viewing.Private.HudMessage.dismiss(),this.hidePanel(),this.updateViewportId(!0),x=!1,l.clearAllPicks(),A&&A.isActive()&&o.toolController.deactivateTool(A.getName()),o.toolController.deactivateTool("magnifyingGlass"),l.indicator&&(l.indicator.clear(),l.indicator.destroy(),l.indicator=null),o.removeEventListener(Autodesk.Viewing.CAMERA_CHANGE_EVENT,this.onCameraChangeBinded),o.removeEventListener(Autodesk.Viewing.VIEWER_RESIZE_EVENT,this.screenSizeChangedBinded))},this.getActivePointIndex=function(){return k},this.setCalibrationFactor=function(e){h.calibrationFactor=e},this.getCalibrationFactor=function(){return h.calibrationFactor},this.updateLabelValue=function(e){l.indicator.updateLabelValue(e)},this.isCalibrationValid=function(e,t){var i=Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(t,e);return!isNaN(i)},this.calibrate=function(e,t){var i=null,n=Autodesk.Viewing.Private.UnitParser.parsePositiveNumber(t,e);if(!isNaN(n)){var a=Autodesk.Viewing.Private.convertUnits(o.model.getUnitString(),e,1,b);if(0!==a&&!isNaN(a)){i=n/a,h.calibrationFactor=i,h.units=e;var r=o.model.is2d()?3:1,c=Autodesk.Viewing.Private.calculatePrecision(t);h.precision=Math.max(h.precision?h.precision:r,c),v=t,f=e,u=!0,C=!0,w=l.getPick(1).clone(),y=l.getPick(2).clone()}}i&&(o.getExtension("Autodesk.Measure").enableCalibrationTool(!1),o.dispatchEvent({type:s.Events.FINISHED_CALIBRATION,units:e,scaleFactor:i,size:t}))},this.calibrateByScale=function(e,t){h.calibrationFactor=t,h.units!==e&&(h.units=e,f=e),u=!0},this.getCurrentUnits=function(){return h.units},this.hidePanel=function(){I?I.setVisible(!1):o.dispatchEvent({type:s.Events.CLOSE_CALIBRATION_PANEL_EVENT})},this.showPanel=function(){Autodesk.Viewing.Private.HudMessage.dismiss();var e=this;const t=this.getWindow();I?(t.setTimeout((function(){I.requestedSizeTextbox.focus()}),0),I.setVisible(!0),I.updatePanelPosition(l.indicator.labelPosition,l.indicator.p1,l.indicator.p2,l.indicator.calibrationLabel.clientHeight),I.updateUnits(),e.addWindowEventListener("keyup",(function t(i){"Escape"==(i.key||String.fromCharCode(i.keyCode))&&e.isActive()&&(e.hidePanel(),e.clearSize(),e.showAddCalibrationLabel(),e.removeWindowEventListener("keyup",t))}))):o.dispatchEvent({type:s.Events.OPEN_CALIBRATION_PANEL_EVENT,data:{size:v,units:f}})},this.updateCalibrationPanel=function(){I&&I.updateUnits()},this.showAddCalibrationLabel=function(){l.indicator.showAddCalibrationLabel()},this.isCalibrated=function(){return u},this.clearSize=function(){l.indicator.updateLabelValue(null),I?I.requestedSizeTextbox.value="":o.dispatchEvent({type:s.Events.CLEAR_CALIBRATION_SIZE_EVENT})},this.getMaxPrecision=function(){return d},this.clearMeasurement=function(){V(),this.clearPick(1),this.clearPick(2),l.indicator.clear(),this.updateViewportId(!0),this.hidePanel(),x=!1},this.clearPick=function(e){l.hasPick(e)&&(l.clearPick(e),l.indicator.hideClick(e))},this.repickEndpoint=function(e){this.clearPick(e),this.editEndpoint(null,e)},this.getSnapper=function(){return A},this._handleMouseEvent=function(e){var t=!1;if(A.isSnapped())(Y()||U())&&(this.clearMeasurement(),k=1),A.copyResults(N()),t=!0;else{if(e&&o.model.is2d()){var i=o.container.getBoundingClientRect(),n=e.canvasX||e.clientX-i.left,a=e.canvasY||e.clientY-i.top;n&&a&&(B=s.inverseProject({x:n,y:a},o))}if(T&&l&&!this.isEditingEndpoint&&k===l.getMaxNumberOfPicks()+1)return!0;var r=N();r&&r.clear()}if(this.correctPickPosition(),T&&this._doConsumeSingleClick(t),!U()){var c=this.render();l.hasPick(2)&&(t&=c)}return T&&(l.isComplete()&&t?(b=l.distanceXYZ,this.clearSize(),this.showPanel(),x=!0,o.dispatchEvent({type:L.b,mode:"end"})):(o.dispatchEvent({type:L.b,mode:"start"}),this.hidePanel(),l.indicator.updateLabelValue(null),x=!1)),t},this.updateViewportId=function(t){if(o.model&&o.model.is2d())if(t||U())e.impl.updateViewportId(0),A.setViewportId(null);else if(!g){var i=z().viewportIndex2d||N().viewportIndex2d;e.impl.updateViewportId(i),A&&A.setViewportId(i)}},this._doConsumeSingleClick=function(e){this.updateViewportId(l.isComplete()),l.indicator.clear()},this.handleButtonDown=function(e,t){return a.isMobileDevice()||(m=!0,0!==t||e.ctrlKey||e.metaKey||e.shiftKey||e.altKey||(T=!0,R=e.canvasX,P=e.canvasY)),!1},this.handleMouseMove=function(e){return a.isMobileDevice()||(e.canvasX===R&&e.canvasY===P||(T=!1),M=this.isEditingEndpoint,U()||Y()||(this.clearPick(k),this._handleMouseEvent(e)),A.indicator.render()),!1},this.restoreMouseListeners=function(){o.toolController.getTool("gestures").controller.enableMouseButtons(!0)},this.handlePressHold=function(e){if(T=!1,a.isTouchDevice())switch(e.type){case"press":return g=!0,Y()?this.clearMeasurement():this.clearPick(k),this._handleMouseEvent(e),A.indicator.render(),!0;case"pressup":return T=!0,this.restoreMouseListeners(),S=!S,this.handleSingleClick(e),g=!1,!0}return!1},this.correctPickPosition=function(){var t=N();if(t&&!t.getGeometry()&&B&&(t.geomType=s.SnapType.SNAP_VERTEX,t.geomVertex=B,t.intersectPoint=B),function(){switch(k){case 0:return!1;case 1:return l.hasPick(l.countPicks());case 2:case 3:return l.hasPick(1)}}()){var i=z();s.correctPerpendicularPicks(i,t,e,A)}},this.render=function(){var e=l.computeResult(l.picks,o,A);return l.indicator.render(l.picks,T||x),e},this.editEndpoint=function(e,t){if(k===t)return l.indicator.changeEndpointOnEditStyle(t,!1),void this.undoEditEndpoint();for(var i in k=t,this.isEditingEndpoint=!0,l.indicator.changeEndpointOnEditStyle(t,!0),l.indicator.changeAllEndpointsEditableStyle(!1),l.picks)Object.prototype.hasOwnProperty.call(l.picks,i)&&(E[i]=l.getPick(i).clone());this.updateViewportId(),o.dispatchEvent({type:L.b,mode:"start"}),this.hidePanel(),l.indicator.updateLabelValue(null),x=!1,a.isMobileDevice()||this._handleMouseEvent(e)},this.undoEditEndpoint=function(){for(var e in l.indicator.clear(),l.picks)Object.prototype.hasOwnProperty.call(l.picks,e)&&l.setPick(e,E[e].clone());this.updateViewportId(!0),this.isEditingEndpoint=!1,x=!0,O(),this.render()&&this.showPanel()},this.handleGesture=function(e){if(a.isTouchDevice()&&(T=!1,g))switch(this.clearPick(k),e.type){case"dragstart":case"dragmove":return this._handleMouseEvent(e),A.indicator.render(),!0;case"dragend":return g=!1,T=!0,this.editByDrag||(S=!S,this.handleSingleClick(e)),this.editByDrag=!1,this.restoreMouseListeners(),!0;case"pinchend":return T=!0,S=!S,this.handleSingleClick(e),this.restoreMouseListeners(),!0}return!1},this.handleButtonUp=function(e){return m=!1,R=null,P=null,M&&(T=!0,S=!S,this.handleSingleClick(e),M=!1),!1},this.handleSingleClick=function(e){return T&&(A.indicator.clearOverlays(),l.indicator.changeEndpointOnEditStyle(k,!1),this._handleMouseEvent(e)?(l.indicator.showEndpoints(),l.indicator.updateLabelsPosition(),k++):this.isEditingEndpoint?this.undoEditEndpoint():this.clearMeasurement(),l.isComplete()&&O(),T=!1,S=!S,this.isEditingEndpoint=!1,A.clearSnapped()),!0},this.handleDoubleClick=function(){return!0},this.handleSingleTap=function(e){return S||(T=!0,A.onMouseDown({x:e.canvasX,y:e.canvasY}),this.handleSingleClick(e)),S=!S,!0},this.handleDoubleTap=function(){return!0},this.handleResize=function(){l.indicator&&l.indicator.handleResize()},this.onCameraChange=function(){A.indicator&&A.indicator.onCameraChange()},this.screenSizeChanged=function(e){this.onCameraChange()}};ee.GlobalManagerMixin.call(te.prototype);const ie=Autodesk.Viewing;var ne=function(e){var t=e,i=!1,n=["magnifyingGlass"],a=!1,s=null,r=null,o=null,l=null,c=null,h=!1,d=Autodesk.Viewing;this.setGlobalManager(e.globalManager),this.register=function(){this.updateMagnifyingGlassBinded=this.updateMagnifyingGlass.bind(this)},this.isActive=function(){return i},this.activate=function(){i=!0},this.updateMagnifyingGlass=function(){const e=this.getWindow(),i=this.getDocument();if(h)s&&s.classList.remove("visible"),h=!1;else{var n=e.devicePixelRatio,a=120,d=a*n,u=n*(l-30),A=n*(c-30);s||((s=i.createElement("canvas")).className="magnifying-glass",s.width=d,s.height=d,s.style.width="120px",s.style.height="120px",s.getContext("2d").translate(0,d),s.getContext("2d").scale(1,-1),t.container.appendChild(s),r=s.getContext("2d").createImageData(Math.ceil(d/2),Math.ceil(d/2)),o=new Uint8Array(r.data.buffer));var p=s.getContext("2d"),m=t.impl.glrenderer().getContext();m.readPixels(u,t.canvas.height-A-r.height,r.width,r.height,m.RGBA,m.UNSIGNED_BYTE,o),p.putImageData(r,0,0),p.drawImage(s,0,0,r.width,r.height,0,0,d,d),this.setGlassPosition(s,l,c,a,15),s.classList.toggle("visible",!0)}},this.deactivate=function(){this.clearMagnifyingGlass(),i=!1},this.getNames=function(){return n},this.getName=function(){return n[0]},this.getPriority=function(){return 70},this.setGlassPosition=function(e,t,i,n,a){e.style.left=t-n/2+"px",e.style.top=i-n-a>0?i-n-a+"px":i+a+"px"},this.requestUpdate=function(){t.hasEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.updateMagnifyingGlassBinded)||t.addEventListener(Autodesk.Viewing.RENDER_PRESENTED_EVENT,this.updateMagnifyingGlassBinded,{once:!0})},this.drawMagnifyingGlass=function(e,i){h=!1,l=e,c=i,t.impl.invalidate(!1,!1,!0),this.requestUpdate()},this.clearMagnifyingGlass=function(){h=!0,this.requestUpdate()},this.handlePressHold=function(e){if(d.isTouchDevice())switch(e.type){case"press":a=!0,this.drawMagnifyingGlass(e.canvasX,e.canvasY);break;case"pressup":this.clearMagnifyingGlass(),a=!1}return!1},this.handleGesture=function(e){if(a&&d.isTouchDevice())switch(e.type){case"dragstart":case"dragmove":case"pinchstart":case"pinchmove":this.drawMagnifyingGlass(e.canvasX,e.canvasY);break;case"dragend":this.clearMagnifyingGlass(),a=!1;break;case"pinchend":this.clearMagnifyingGlass()}return!1},this.handleMouseMove=function(e){return!1},this.handleWheelInput=function(e){return!1},this.handleButtonUp=function(e,t){return!1}};ie.GlobalManagerMixin.call(ne.prototype);var ae=Autodesk.Viewing,se=Autodesk.Viewing.UI,re=Autodesk.Viewing.Private,oe=Autodesk.Viewing.MeasureCommon;function le(e){this.measureExtension=e,this.measureTool=this.measureExtension.measureTool,this.viewer=this.measureExtension.viewer,this.setGlobalManager(this.viewer.globalManager),this.visible=!1,this.buttonsList=[]}var ce=le.prototype;ae.GlobalManagerMixin.call(le.prototype),ce.init=function(){var e=this;const t=this.getDocument();var i=this.viewer.getToolbar(),n=i.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID),a={};a.index=i.indexOf(n)+1,this.measureToolbar=new se.ControlGroup(Autodesk.Viewing.TOOLBAR.MEASURETOOLSID),this.measureToolbar.setGlobalManager(this.globalManager),i.addControl(this.measureToolbar,a),this.measureSimpleDistanceBtn=new se.Button("toolbar-measureTool-simple-distance"),this.measureSimpleDistanceBtn.setGlobalManager(this.globalManager),this.measureSimpleDistanceBtn.setToolTip("Distance"),this.measureSimpleDistanceBtn.setIcon("adsk-icon-measure-distance-new"),this.measureSimpleDistanceBtn.onClick=function(){e.measureSimpleDistanceBtn.getState()!==se.Button.State.ACTIVE?e.measureExtension.activate("distance"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureSimpleDistanceBtn),this.buttonsList[oe.MeasurementTypes.MEASUREMENT_DISTANCE]=this.measureSimpleDistanceBtn,this.measureAngleBtn=new se.Button("toolbar-measureTool-angle"),this.measureAngleBtn.setGlobalManager(this.globalManager),this.measureAngleBtn.setToolTip("Angle"),this.measureAngleBtn.setIcon("adsk-icon-measure-angle-new"),this.measureAngleBtn.onClick=function(){e.measureAngleBtn.getState()!==se.Button.State.ACTIVE?e.measureExtension.activate("angle"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureAngleBtn),this.buttonsList[oe.MeasurementTypes.MEASUREMENT_ANGLE]=this.measureAngleBtn,this.viewer.model&&this.viewer.model.is2d()&&(this.measureAreaBtn=new se.Button("toolbar-measureTool-area"),this.measureAreaBtn.setGlobalManager(this.globalManager),this.measureAreaBtn.setToolTip("Area"),this.measureAreaBtn.setIcon("adsk-icon-measure-area-new"),this.measureAreaBtn.onClick=function(){e.measureAreaBtn.getState()!==se.Button.State.ACTIVE?e.measureExtension.activate("area"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureAreaBtn),this.buttonsList[oe.MeasurementTypes.MEASUREMENT_AREA]=this.measureAreaBtn),this.viewer.model&&this.viewer.model.is2d()&&(this.measureArcBtn=new se.Button("toolbar-measureTool-arc"),this.measureArcBtn.setGlobalManager(this.globalManager),this.measureArcBtn.setToolTip("Arc"),this.measureArcBtn.setIcon("adsk-icon-measure-arc-new"),this.measureArcBtn.onClick=function(){e.measureArcBtn.getState()!==se.Button.State.ACTIVE?e.measureExtension.activate("arc"):e.measureTool.deselectAllMeasurements()},this.measureToolbar.addControl(this.measureArcBtn),this.buttonsList[oe.MeasurementTypes.MEASUREMENT_ARC]=this.measureArcBtn),this.calibrationToolBtn=new se.Button("toolbar-calibrationTool"),this.calibrationToolBtn.setGlobalManager(this.globalManager),this.calibrationToolBtn.setToolTip("Calibrate"),this.calibrationToolBtn.setIcon("adsk-icon-measure-calibration"),this.calibrationToolBtn.onClick=function(t){e.calibrationToolBtn.getState()!==se.Button.State.ACTIVE?e.measureExtension.activate("calibrate"):e.measureExtension.enableCalibrationTool(!1)},this.measureToolbar.addControl(this.calibrationToolBtn),this.buttonsList[oe.MeasurementTypes.CALIBRATION]=this.calibrationToolBtn;var s=t.createElement("div");s.className="measure-toolbar-seperator",this.measureToolbar.container.appendChild(s),this.deleteBtn=new se.Button("toolbar-delete"),this.deleteBtn.setGlobalManager(this.globalManager),this.deleteBtn.setToolTip("Delete measurement"),this.deleteBtn.setIcon("adsk-icon-measure-trash"),this.deleteBtn.onClick=function(){e.measureExtension.deleteCurrentMeasurement()},this.measureToolbar.addControl(this.deleteBtn),this.settingsBtn=new se.Button("toolbar-settings"),this.settingsBtn.setGlobalManager(this.globalManager),this.settingsBtn.setToolTip("Measure settings"),this.settingsBtn.setIcon("adsk-icon-measure-settings"),this.settingsControlPanel=t.createElement("div"),this.settingsControlPanel.classList.add("docking-panel"),this.settingsControlPanel.classList.add("docking-panel-container-solid-color-b"),this.settingsControlPanel.classList.add("measure-settings-popup"),this.settingsControlPanel.classList.add("hide"),this.settingsBtn.onClick=function(e){this.settingsControlPanel.classList.contains("hide")?(this.settingsControlPanel.classList.remove("hide"),this.setButtonActive(this.settingsBtn)):(this.settingsControlPanel.classList.add("hide"),this.setButtonInactive(this.settingsBtn))}.bind(this),this.measureToolbar.container.appendChild(this.settingsControlPanel),this.settingsControlPanel.root=this.settingsBtn,this.measureToolbar.addControl(this.settingsBtn),this.table=t.createElement("table"),this.table.classList.add("adsk-lmv-tftable"),this.table.classList.add("calibration-table"),this.tbody=t.createElement("tbody"),this.table.appendChild(this.tbody),this.settingsControlPanel.appendChild(this.table),this.units=[{name:"Unknown",units:"",matches:[""]},{name:"Decimal feet",units:"decimal-ft",matches:["ft","decimal-ft"]},{name:"Feet and fractional inches",units:"ft-and-fractional-in",matches:["ft-and-fractional-in"]},{name:"Feet and decimal inches",units:"ft-and-decimal-in",matches:["ft-and-decimal-in"]},{name:"Decimal inches",units:"decimal-in",matches:["in","decimal-in"]},{name:"Fractional inches",units:"fractional-in",matches:["fractional-in"]},{name:"Meters",units:"m",matches:["m"]},{name:"Centimeters",units:"cm",matches:["cm"]},{name:"Millimeters",units:"mm",matches:["mm"]},{name:"Meters and centimeters",units:"m-and-cm",matches:["m-and-cm"]},{name:"Points",units:"pt",matches:["pt"]}];var r=this.findUnits(),o=[];ae.isSafari()&&this.viewer.model&&this.viewer.model.getDisplayUnit()&&this.units.shift();for(var l=0;l<this.units.length;++l)o.push(this.units[l].name);this.unitList=new re.OptionDropDown("Unit type",this.tbody,o,r,null,{paddingLeft:0,paddingRight:15}),this.unitList.setGlobalManager(this.globalManager),this.unitList.addEventListener("change",(function(t){var i=e.unitList.selectedIndex,n=e.units[i].units;e.measureTool.setUnits(n),e.setupPrecision(),re.logger.track({category:"pref_changed",name:"measure/units",value:n})})),this.precisionList=new re.OptionDropDown("Precision",this.tbody,[],-1,null,{paddingLeft:0,paddingRight:15}),this.precisionList.setGlobalManager(this.globalManager),this.precisionList.addEventListener("change",(function(t){var i=e.precisionList.selectedIndex;e.measureTool.setPrecision(i),re.logger.track({category:"pref_changed",name:"measure/precision",value:i})})),this.isolate=new re.OptionCheckbox("Isolate measurement",this.tbody,!1),this.isolate.setGlobalManager(this.globalManager),this.isolate.addEventListener("change",(function(t){var i=e.isolate.checked;e.measureTool.setIsolateMeasure(i),i?e.measureTool.isolateMeasurement():e.measureTool.clearIsolate(),re.logger.track({category:"pref_changed",name:"measure/isolate",value:i})})),this.freeMeasure=new re.OptionCheckbox("Enable free measure",this.tbody,this.measureExtension.isFreeMeasureMode()),this.freeMeasure.setGlobalManager(this.globalManager),this.freeMeasure.addEventListener("change",(function(t){var i=e.freeMeasure.checked;e.measureExtension.setFreeMeasureMode(i),re.logger.track({category:"pref_changed",name:"measure/freeMeasure",value:i})})),this.setupPrecision(),this.updateSettingsPanel(),this.viewer.model&&this.viewer.model.is2d()&&this.isolate.setVisibility(!1),void 0===this.measureExtension.sharedMeasureConfig.units?this.disableUnitOption():Autodesk.Viewing.isSafari()||this.disableUnitOption(0),this.measureDoneBtn=new se.Button("toolbar-measureTool-done"),this.measureDoneBtn.setGlobalManager(this.globalManager);var c=Autodesk.Viewing.i18n.translate("Done");this.measureDoneBtn.setToolTip(c);var h=t.createElement("label");h.textContent=c;var d=this.measureDoneBtn.container;d.appendChild(h),d.classList.add("adsk-label-button");var u=d.getElementsByClassName("adsk-button-icon");u&&u[0]&&(u[0].style.display="none"),this.measureDoneBtn.onClick=function(){this.measureExtension.exitMeasurementMode()}.bind(this),this.measureToolbar.addControl(this.measureDoneBtn),this.measureToolbar.setVisible(!1)},ce.destroy=function(){this.visible&&this.closeToolbar(),this.measureToolbar&&(this.measureToolbar.removeFromParent(),this.measureToolbar=null)},ce.closeToolbar=function(){this.measureExtension.enableMeasureTool(!1),this.measureExtension.enableCalibrationTool(!1),this.toggleVisible();for(var e=this.viewer.getToolbar(),t=e.container,i=t.children.length,n=0;n<i;++n)t.children[n].style.display="";e.getControl(ae.TOOLBAR.MODELTOOLSID).addControl(this.measureExtension.measurementToolbarButton,{index:this.measureExtension.measurementToolbarButton.index})},ce.toggleVisible=function(){this.visible=!this.visible,this.measureToolbar.setVisible(this.visible),this.visible||(this.settingsControlPanel.classList.add("hide"),this.setButtonInactive(this.settingsBtn))},ce.setButtonActive=function(e){e.setState(se.Button.State.ACTIVE)},ce.setButtonInactive=function(e){e.setState(se.Button.State.INACTIVE)},ce.deactivateAllButtons=function(){for(var e in this.buttonsList)if(Object.prototype.hasOwnProperty.call(this.buttonsList,e)){var t=this.buttonsList[e];this.setButtonInactive(t)}},ce.activateButtonByType=function(e){this.buttonsList[e]&&this.setButtonActive(this.buttonsList[e])},ce.setupPrecision=function(){const e=this.getDocument();for(;this.precisionList.dropdownElement.lastChild;)this.precisionList.dropdownElement.removeChild(this.precisionList.dropdownElement.lastChild);var t,i=this.measureTool.getUnits();t="ft-and-fractional-in"===i||"fractional-in"===i?["1","1/2","1/4","1/8","1/16","1/32","1/64"]:["0","0.1","0.01","0.001","0.0001","0.00001"];for(var n=0;n<t.length;++n){var a=e.createElement("option");a.value=n,a.textContent=t[n],this.precisionList.dropdownElement.appendChild(a)}var s=this.measureTool.getPrecision();t.length<=s&&(s=t.length-1,this.measureTool.setPrecision(s)),this.precisionList.dropdownElement.selectedIndex=s},ce.findUnits=function(){var e,t,i=this.measureTool.getUnits();for(e=0;e<this.units.length;++e){var n=this.units[e].matches;if(n)for(t=0;t<n.length;++t)if(n[t]===i)return e}return 0},ce.disableUnitOption=function(e){null!=e?(this.unitList.dropdownElement.children[e].style.display="none",ae.isIE11&&(this.unitList.dropdownElement.children[e].disabled=!0,this.unitList.dropdownElement.children[e].style.visibility="hidden")):this.unitList.dropdownElement.disabled=!0},ce.updateSettingsPanel=function(){this.unitList.dropdownElement.selectedIndex=this.findUnits(),this.precisionList.dropdownElement.selectedIndex=this.measureTool.getPrecision(),this.setupPrecision()};var he=i(93379),de=i.n(he),ue=i(7795),Ae=i.n(ue),pe=i(90569),me=i.n(pe),ge=i(3565),be=i.n(ge),Ce=i(19216),ve=i.n(Ce),fe=i(44589),we=i.n(fe),ye=i(69542),xe={};xe.styleTagTransform=we(),xe.setAttributes=be(),xe.insert=me().bind(null,"head"),xe.domAPI=Ae(),xe.insertStyleElement=ve();de()(ye.Z,xe);ye.Z&&ye.Z.locals&&ye.Z.locals;var Ee=i(61880),Be={};Be.styleTagTransform=we(),Be.setAttributes=be(),Be.insert=me().bind(null,"head"),Be.domAPI=Ae(),Be.insertStyleElement=ve();de()(Ee.Z,Be);Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var ke=AutodeskNamespace("Autodesk.Viewing.Extensions.Measure"),Me=Autodesk.Viewing,Te=Autodesk.Viewing.Private,Le=Me.UI,Se=Autodesk.Viewing.MeasureCommon,Re=Se.MeasurementTypes.MEASUREMENT_DISTANCE,Pe=function(e,t){Autodesk.Viewing.Extension.call(this,e,t),this.modes=["distance","angle","area","arc","calibrate"],this.name="measure",this._onModelLoaded=this._onModelLoaded.bind(this),this._onDisplayUnitsPrefChanged=this._onDisplayUnitsPrefChanged.bind(this),this._onPrecisionPrefChanged=this._onPrecisionPrefChanged.bind(this)};Pe.prototype=Object.create(Autodesk.Viewing.Extension.prototype),Pe.prototype.constructor=Pe,Pe.prototype.load=async function(){await this.viewer.loadExtension("Autodesk.Snapping");var e=this,t=this.viewer;if(this.hasUI=Autodesk.Viewing.GuiViewer3D&&t instanceof Autodesk.Viewing.GuiViewer3D,this.escapeHotkeyId="Autodesk.Measure.Hotkeys.Escape",!t.toolController)return!1;this.options=this.options||{};var i={onCloseCallback:function(){e.enableMeasureTool(!1)}};this.sharedMeasureConfig={units:null,precision:null,calibrationFactor:null},i.snapperOptions=this.options.snapperOptions,this.forceCalibrate=this.options.forceCalibrate,this.snapper=new Autodesk.Viewing.Extensions.Snapping.Snapper(t,{renderSnappedTopology:!0}),t.toolController.registerTool(this.snapper);const n=e=>{this.setActive(e),e||this.deactivate()};return this.measureTool=new P(t,i,this.sharedMeasureConfig,this.snapper),t.toolController.registerTool(this.measureTool,n),this.calibrationTool=new te(t,this.options,this.sharedMeasureConfig,this.snapper),t.toolController.registerTool(this.calibrationTool,n),this.magnifyingGlass=new ne(t),t.toolController.registerTool(this.magnifyingGlass),this.calibration={},this.onFinishedCalibration=function(t){e.measureToolbar&&e.measureToolbar.updateSettingsPanel(),e.activateInitiator&&e.activateInitiator(),e.calibration.units=t.units,e.calibration.scaleFactor=t.scaleFactor,e.calibration.size=t.size,e.calibration.precision=e.sharedMeasureConfig.precision},t.addEventListener("finished-calibration",this.onFinishedCalibration),this.onMeasurementChanged=function(t){var i=t.data.type;e.changeMeasurementType(i)},t.addEventListener(Se.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChanged),t.model?this._onModelLoaded({model:t.model}):t.addEventListener(Me.MODEL_ROOT_LOADED_EVENT,this._onModelLoaded,{once:!0}),this.onModelRemoved=function(){e.measurementToolbarButton&&(e.viewer.model||(e.measurementToolbarButton.setState(Autodesk.Viewing.UI.Button.State.DISABLED),e.exitMeasurementMode()))},this.onModelAdded=function(){e.measurementToolbarButton&&(1===e.viewer.getVisibleModels().length&&e.measurementToolbarButton&&e.measurementToolbarButton.setState(Autodesk.Viewing.UI.Button.State.INACTIVE))},t.addEventListener(Me.MODEL_ADDED_EVENT,this.onModelAdded),t.addEventListener(Me.MODEL_REMOVED_EVENT,this.onModelRemoved),this.viewer.prefs.addListeners(Te.Prefs.DISPLAY_UNITS,this._onDisplayUnitsPrefChanged,this._onDisplayUnitsPrefChanged),this.viewer.prefs.addListeners(Te.Prefs.DISPLAY_UNITS_PRECISION,this._onPrecisionPrefChanged,this._onPrecisionPrefChanged),!0},Pe.prototype._onDisplayUnitsPrefChanged=function(e){var t;""!==e&&(this.setUnits(e),null===(t=this.measureToolbar)||void 0===t||t.updateSettingsPanel(),this.calibrationTool.updateCalibrationPanel())},Pe.prototype._onPrecisionPrefChanged=function(e){var t;"number"==typeof e&&(this.setPrecision(e),null===(t=this.measureToolbar)||void 0===t||t.updateSettingsPanel())},Pe.prototype._onModelLoaded=function(e){var t=e.model;const i=!!t.isPdf(!0)&&!this.viewer.prefs.get(Te.Prefs2D.FORCE_PDF_CALIBRATION),n=!!t.isLeaflet()&&!this.viewer.prefs.get(Te.Prefs2D.FORCE_LEAFLET_CALIBRATION);var a;(this.sharedMeasureConfig.units=this.options.calibrationUnits||this.viewer.prefs.get(Te.Prefs.DISPLAY_UNITS)||t.getDisplayUnit(),this.sharedMeasureConfig.units)||(null===(a=this.measureToolbar)||void 0===a||a.disableUnitOption());!i&&!n||t.getMetadata("page_dimensions","model_units",null)||(this.sharedMeasureConfig.units="pt");const s=this.viewer.prefs.get(Te.Prefs.DISPLAY_UNITS_PRECISION);this.sharedMeasureConfig.precision="number"==typeof s?s:t.is2d()?3:1,this.options.calibrationUnits&&!isNaN(this.options.calibrationFactor)&&this.calibrationTool.calibrateByScale(this.options.calibrationUnits,this.options.calibrationFactor)},Pe.prototype.unload=function(){var e=this.viewer;return this.destroyUI(),e.removeEventListener("finished-calibration",this.onFinishedCalibration),e.removeEventListener(Se.Events.MEASUREMENT_CHANGED_EVENT,this.onMeasurementChanged),e.removeEventListener(Me.MODEL_ADDED_EVENT,this.onModelAdded),e.removeEventListener(Me.MODEL_REMOVED_EVENT,this.onModelRemoved),e.removeEventListener(Me.MODEL_ROOT_LOADED_EVENT,this._onModelLoaded),e.toolController.deregisterTool(this.snapper),this.snapper=null,e.toolController.deregisterTool(this.measureTool),this.measureTool=null,e.toolController.deregisterTool(this.calibrationTool),this.calibrationTool=null,e.toolController.deregisterTool(this.magnifyingGlass),this.magnifyingGlass=null,this.unloaded=!0,e.prefs.removeListeners(Te.Prefs.DISPLAY_UNITS,this._onDisplayUnitsPrefChanged,this._onDisplayUnitsPrefChanged),e.prefs.removeListeners(Te.Prefs.DISPLAY_UNITS_PRECISION,this._onPrecisionPrefChanged,this._onPrecisionPrefChanged),!0},Pe.prototype.setActive=function(e){return this.enableMeasureTool(e)},Pe.prototype.toggle=function(){return this.isActive()?this.enableMeasureTool(!1):this.enableMeasureTool(!0),this.isActive()},Pe.prototype.getMeasurement=function(e,t){var i=null;return this.measureTool.isActive()&&(i=this.measureTool.getMeasurement(e,t)),i},Pe.prototype.getMeasurementList=function(e,t){var i=[];return this.measureTool.isActive()&&(i=this.measureTool.getMeasurementList(e,t)),i},Pe.prototype.setMeasurements=function(e){this.measureTool.isActive()&&this.measureTool.setMeasurements(e)},Pe.prototype.getUnitOptions=function(){return[{name:"Unknown",type:""},{name:"Decimal feet",type:"decimal-ft"},{name:"Feet and fractional inches",type:"ft"},{name:"Feet and decimal inches",type:"ft-and-decimal-in"},{name:"Decimal inches",type:"decimal-in"},{name:"Fractional inches",type:"fractional-in"},{name:"Meters",type:"m"},{name:"Centimeters",type:"cm"},{name:"Millimeters",type:"mm"},{name:"Meters and centimeters",type:"m-and-cm"},{name:"Points",type:"pt"}]},Pe.prototype.getPrecisionOptions=function(e){return e?["1","1/2","1/4","1/8","1/16","1/32","1/64"]:["0","0.1","0.01","0.001","0.0001","0.00001"]},Pe.prototype.getDefaultUnit=function(){return this.viewer.model.getDisplayUnit()},Pe.prototype.openCalibrationRequiredDialog=function(e){this.hasUI?(this.CalibrationRequiredDialog||(this.CalibrationRequiredDialog=new $(this,this.viewer,"calibration-required","Calibration Required",this.options)),this.CalibrationRequiredDialog.setVisible(!0)):this.viewer.dispatchEvent({type:Se.Events.CALIBRATION_REQUIRED_EVENT}),"measure"===e?this.activateInitiator=function(){this.enableMeasureTool(!0,Re),this.activateInitiator=null}:"dimension"===e&&(this.activateInitiator=function(){this.viewer.dispatchEvent({type:Se.Events.FINISHED_CALIBRATION_FOR_DIMENSION_EVENT}),this.activateInitiator=null})},Pe.prototype.getCalibration=function(){return this.calibration},Pe.prototype.activate=function(e){if(this.activeStatus&&this.mode===e)return!0;var t;switch(this.enterMeasurementMode(),e){default:e="distance";case"distance":t=this.enableMeasureTool(!0,Se.MeasurementTypes.MEASUREMENT_DISTANCE);break;case"angle":t=this.enableMeasureTool(!0,Se.MeasurementTypes.MEASUREMENT_ANGLE);break;case"area":this.viewer.model.is2d()?t=this.enableMeasureTool(!0,Se.MeasurementTypes.MEASUREMENT_AREA):console.warn("Area mode is applicable on 2D models only");break;case"arc":!this.viewer.model.is2d()||this.viewer.model.isPdf()?console.warn("Arc mode is applicable on 2D models only"):t=this.enableMeasureTool(!0,Se.MeasurementTypes.MEASUREMENT_ARC);break;case"calibrate":t=this.enableCalibrationTool(!0)}return this.mode=t?e:"",this.activeStatus=!0,!0},Pe.prototype.deactivate=function(){return this.activeStatus&&(this.exitMeasurementMode(),this.enableMeasureTool(!1),this.activeStatus=!1),!0},Pe.prototype.setForcePDFCalibrate=function(e){this.viewer.prefs.set(Te.Prefs2D.FORCE_PDF_CALIBRATION,e)},Pe.prototype.setForceLeafletCalibrate=function(e){this.viewer.prefs.set(Te.Prefs2D.FORCE_LEAFLET_CALIBRATION,e)},Pe.prototype.setRestoreSessionMeasurements=function(e){this.viewer.prefs.set(Te.Prefs.RESTORE_SESSION_MEASUREMENTS,e)},Pe.prototype.enableMeasureTool=function(e,t){var i;if(t===Se.MeasurementTypes.MEASUREMENT_AREA&&this.viewer.model&&!this.viewer.model.is2d())return!1;if(t===Se.MeasurementTypes.MEASUREMENT_ARC&&this.viewer.model&&!this.viewer.model.is2d())return!1;const n=t===Se.MeasurementTypes.MEASUREMENT_ARC&&(null===(i=this.viewer.model)||void 0===i?void 0:i.is2d());this.snapper.setSnapToArc(n);var a=this.viewer.toolController,s=1===this.selectedTool;if(!this.viewer.model||!e&&s)return this.measureTool.isActive()&&(a.deactivateTool("measure"),this.measureToolbar&&this.measureToolbar.deactivateAllButtons(),this.selectedTool=0),!0;const r=this.viewer.impl.is2d,o=r&&this.viewer.model.isPdf(!0)&&this.viewer.prefs.get(Te.Prefs2D.FORCE_PDF_CALIBRATION),l=r&&this.viewer.model.isLeaflet()&&this.viewer.prefs.get(Te.Prefs2D.FORCE_LEAFLET_CALIBRATION);return this.forceCalibrate|=l||o,t||(t=Re),e&&!s?(this.checkAndFetchTopology(a.getTool("measure")),!this.forceCalibrate||this.forceCalibrate&&this.calibrationTool.isCalibrated()||t===Se.MeasurementTypes.MEASUREMENT_ANGLE?(this.calibrationTool.isActive()&&a.deactivateTool("calibration"),this.measureToolbar&&this.measureToolbar.updateSettingsPanel(),a.activateTool("measure"),this.selectedTool=1,this.changeMeasurementType(t),!0):(this.viewer.addEventListener(ke.OPEN_TOOL_AFTER_CALIBRAION,function(){this.enableMeasureTool(!0)}.bind(this),{once:!0}),this.openCalibrationRequiredDialog("measure"),!1)):!(!e||!s)&&(!this.forceCalibrate||this.forceCalibrate&&this.calibrationTool.isCalibrated()||t===Se.MeasurementTypes.MEASUREMENT_ANGLE?(this.changeMeasurementType(t),!0):(this.openCalibrationRequiredDialog("measure"),!1))},Pe.prototype.changeMeasurementType=function(e){switch(this.measureTool.changeMeasurementType(e),this.measureToolbar&&(this.measureToolbar.deactivateAllButtons(),this.measureToolbar.activateButtonByType(e)),e){case Se.MeasurementTypes.MEASUREMENT_DISTANCE:this.mode="distance";break;case Se.MeasurementTypes.MEASUREMENT_ANGLE:this.mode="angle";break;case Se.MeasurementTypes.MEASUREMENT_AREA:this.mode="area";break;case Se.MeasurementTypes.MEASUREMENT_ARC:this.mode="arc";break;default:this.mode=""}},Pe.prototype.setIsolateMeasure=function(e){this.measureTool.setIsolateMeasure(e),e?this.measureTool.isolateMeasurement():this.measureTool.clearIsolate()},Pe.prototype.enableCalibrationTool=function(e){var t=this.viewer.toolController,i=2==this.selectedTool;return e&&!i?(this.measureTool.isActive()&&t.deactivateTool("measure"),t.activateTool("calibration"),this.viewer.dispatchEvent({type:Se.Events.UNITS_CALIBRATION_STARTS_EVENT}),this.measureToolbar&&(this.measureToolbar.deactivateAllButtons(),this.measureToolbar.activateButtonByType(Se.MeasurementTypes.CALIBRATION)),this.selectedTool=2,!0):!(e||!i)&&(this.calibrationTool.isActive()&&(this.mode="",t.deactivateTool("calibration"),this.measureToolbar&&this.measureToolbar.deactivateAllButtons()),this.selectedTool=0,!0)},Pe.prototype.enterMeasurementMode=function(){if(!this._measurementMode&&(this._measurementMode=!0,this.viewer.dispatchEvent({type:Se.Events.MEASUREMENT_MODE_ENTER}),this.viewer.getToolbar)){for(var e=this.viewer.getToolbar(),t=e.container,i=t.children.length,n=0;n<i;++n)t.children[n].style.display="none";this.navigationControls=e.getControl(Autodesk.Viewing.TOOLBAR.NAVTOOLSID),this.navigationControls.setVisible(!0),this.navigationControls.container.style.display="",this.measureControls=e.getControl(Autodesk.Viewing.TOOLBAR.MEASURETOOLSID),this.measureControls.setVisible(!0),this.measureControls.container.style.display="";var a=this.measurementToolbarButton.getId();this.measurementToolbarButton.index=this.measurementToolbarButton.parent.indexOf(a),this.measurementToolbarButton.parent.removeControl(a),this.measureToolbar.toggleVisible(),this.viewer.centerToolBar&&this.viewer.centerToolBar(),this.enableMeasureTool(!0,Re)}},Pe.prototype.exitMeasurementMode=function(){this._measurementMode&&(this.viewer.dispatchEvent({type:Se.Events.MEASUREMENT_MODE_LEAVE}),this.measureToolbar&&this.measureToolbar.closeToolbar(),this.CalibrationRequiredDialog&&this.CalibrationRequiredDialog.isVisible()&&this.CalibrationRequiredDialog.setVisible(!1),this._measurementMode=!1)},Pe.prototype.onToolbarCreated=function(e){if(!this.measureToolbar){var t=this,i=this.viewer,n=e.getControl(Me.TOOLBAR.MODELTOOLSID);this.measurementToolbarButton=new Le.Button("toolbar-measurementSubmenuTool"),this.measurementToolbarButton.setToolTip("Measure"),this.measurementToolbarButton.setIcon("adsk-icon-measure"),n.measurementToolbarButton=this.measurementToolbarButton,n.addControl(this.measurementToolbarButton,{index:0});var a=this.viewer.model?Autodesk.Viewing.UI.Button.State.INACTIVE:Autodesk.Viewing.UI.Button.State.DISABLED;this.measurementToolbarButton.setState(a),this.measureToolbar=new le(this),this.measureToolbar.init(),this.measurementToolbarButton.onClick=this.activate.bind(this);var s=[{keycodes:[Autodesk.Viewing.KeyCode.ESCAPE],onRelease:function(){if(t._measurementMode)return t.exitMeasurementMode(),!0}}];i.getHotkeyManager().pushHotkeys(this.escapeHotkeyId,s)}},Pe.prototype.checkAndFetchTopology=function(e){this._checkedTopology||(this._checkedTopology=!0,this.viewer.model.is3d()?this.viewer.modelHasTopology()?e&&e.setTopologyAvailable():(e&&e.setFetchingTopology(),this.viewer.model.fetchTopology().then((function(){e&&e.setTopologyAvailable()})).catch((function(t){Te.logger.log(t),e&&e.setNoTopology()}))):e&&e.setNoTopology())},Pe.prototype.destroyUI=function(){var e=this.viewer;this.measureToolbar&&(this.measureToolbar.destroy(),this.measureToolbar=null),this.measurementToolbarButton&&(this.measurementToolbarButton.removeFromParent(),this.measurementToolbarButton=null),e.getHotkeyManager().popHotkeys(this.escapeHotkeyId)},Pe.prototype.setUnits=function(e){this.measureTool.setUnits(e)},Pe.prototype.getUnits=function(){return this.measureTool.getUnits()},Pe.prototype.setPrecision=function(e){this.measureTool.setPrecision(e)},Pe.prototype.getPrecision=function(){return this.measureTool.getPrecision()},Pe.prototype.calibrate=function(e,t){this.calibrationTool.calibrate(e,t)},Pe.prototype.calibrateByScale=function(e,t){this.calibrationTool.calibrateByScale(e,t)},Pe.prototype.isCalibrationValid=function(e,t){return this.calibrationTool.isCalibrationValid(e,t)},Pe.prototype.getCalibrationFactor=function(){return this.calibrationTool.getCalibrationFactor()},Pe.prototype.showAddCalibrationLabel=function(){this.calibrationTool.showAddCalibrationLabel()},Pe.prototype.deleteMeasurements=function(){this.measureTool.deleteMeasurements()},Pe.prototype.deleteCurrentMeasurement=function(){this.measureTool.deleteCurrentMeasurement()},Pe.prototype.selectMeasurementById=function(e){this.measureTool.selectMeasurementById(e)},Pe.prototype.setFreeMeasureMode=function(e,t){this.snapper.setSnapToPixel(e),this.measureTool.setUseLastViewport(!!t)},Pe.prototype.isFreeMeasureMode=function(){return this.snapper.getSnapToPixel()},Me.theExtensionManager.registerExtension("Autodesk.Measure",Pe)})(),Autodesk.Extensions.Measure=n})();
//# sourceMappingURL=Measure.min.js.map